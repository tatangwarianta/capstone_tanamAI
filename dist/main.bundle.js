/*! For license information please see main.bundle.js.LICENSE.txt */
(()=>{"use strict";var t={266:(t,n,e)=>{e.r(n),e.d(n,{default:()=>U});const r=(t,n)=>n.some((n=>t instanceof n));let o,i;const u=new WeakMap,a=new WeakMap,c=new WeakMap;let f={get(t,n,e){if(t instanceof IDBTransaction){if("done"===n)return u.get(t);if("store"===n)return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return p(t[n])},set:(t,n,e)=>(t[n]=e,!0),has:(t,n)=>t instanceof IDBTransaction&&("done"===n||"store"===n)||n in t};function s(t){f=t(f)}function l(t){return"function"==typeof t?(n=t,(i||(i=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(n)?function(...t){return n.apply(y(this),t),p(this.request)}:function(...t){return p(n.apply(y(this),t))}):(t instanceof IDBTransaction&&function(t){if(u.has(t))return;const n=new Promise(((n,e)=>{const r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",i),t.removeEventListener("abort",i)},o=()=>{n(),r()},i=()=>{e(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",i),t.addEventListener("abort",i)}));u.set(t,n)}(t),r(t,o||(o=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(t,f):t);var n}function p(t){if(t instanceof IDBRequest)return function(t){const n=new Promise(((n,e)=>{const r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",i)},o=()=>{n(p(t.result)),r()},i=()=>{e(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",i)}));return c.set(n,t),n}(t);if(a.has(t))return a.get(t);const n=l(t);return n!==t&&(a.set(t,n),c.set(n,t)),n}const y=t=>c.get(t),v=["get","getKey","getAll","getAllKeys","count"],d=["put","add","delete","clear"],h=new Map;function m(t,n){if(!(t instanceof IDBDatabase)||n in t||"string"!=typeof n)return;if(h.get(n))return h.get(n);const e=n.replace(/FromIndex$/,""),r=n!==e,o=d.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!v.includes(e))return;const i=async function(t,...n){const i=this.transaction(t,o?"readwrite":"readonly");let u=i.store;return r&&(u=u.index(n.shift())),(await Promise.all([u[e](...n),o&&i.done]))[0]};return h.set(n,i),i}s((t=>({...t,get:(n,e,r)=>m(n,e)||t.get(n,e,r),has:(n,e)=>!!m(n,e)||t.has(n,e)})));const b=["continue","continuePrimaryKey","advance"],g={},w=new WeakMap,x=new WeakMap,k={get(t,n){if(!b.includes(n))return t[n];let e=g[n];return e||(e=g[n]=function(...t){w.set(this,x.get(this)[n](...t))}),e}};async function*S(...t){let n=this;if(n instanceof IDBCursor||(n=await n.openCursor(...t)),!n)return;const e=new Proxy(n,k);for(x.set(e,n),c.set(e,y(n));n;)yield e,n=await(w.get(e)||n.continue()),w.delete(e)}function O(t,n){return n===Symbol.asyncIterator&&r(t,[IDBIndex,IDBObjectStore,IDBCursor])||"iterate"===n&&r(t,[IDBIndex,IDBObjectStore])}function j(t){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j(t)}function _(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,n){if(t){if("string"==typeof t)return P(t,n);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?P(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==e.return||e.return()}finally{if(a)throw i}}}}function P(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=Array(n);e<n;e++)r[e]=t[e];return r}function T(){var t=L(),n=t.m(T),e=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function r(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===e||"GeneratorFunction"===(n.displayName||n.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var n,e;return function(r){n||(n={stop:function(){return e(r.a,2)},catch:function(){return r.v},abrupt:function(t,n){return e(r.a,o[t],n)},delegateYield:function(t,o,i){return n.resultName=o,e(r.d,E(t),i)},finish:function(t){return e(r.f,t)}},e=function(t,e,o){r.p=n.prev,r.n=n.next;try{return t(e,o)}finally{n.next=r.n}}),n.resultName&&(n[n.resultName]=r.v,n.resultName=void 0),n.sent=r.v,n.next=r.n;try{return t.call(this,n)}finally{r.p=n.prev,r.n=n.next}}}return(T=function(){return{wrap:function(n,e,r,o){return t.w(i(n),e,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,n){return new B(t,n)},AsyncIterator:F,async:function(t,n,e,o,u){return(r(n)?I:N)(i(t),n,e,o,u)},keys:G,values:E}})()}function E(t){if(null!=t){var n=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}throw new TypeError(j(t)+" is not iterable")}function G(t){var n=Object(t),e=[];for(var r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function N(t,n,e,r,o){var i=I(t,n,e,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function I(t,n,e,r,o){return new F(L().w(t,n,e,r),o||Promise)}function F(t,n){function e(r,o,i,u){try{var a=t[r](o),c=a.value;return c instanceof B?n.resolve(c.v).then((function(t){e("next",t,i,u)}),(function(t){e("throw",t,i,u)})):n.resolve(c).then((function(t){a.value=t,i(a)}),(function(t){return e("throw",t,i,u)}))}catch(t){u(t)}}var r;this.next||(A(F.prototype),A(F.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),A(this,"_invoke",(function(t,o,i){function u(){return new n((function(n,r){e(t,i,n,r)}))}return r=r?r.then(u,u):u()}),!0)}function L(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var c=r&&r.prototype instanceof a?r:a,f=Object.create(c.prototype);return A(f,"_invoke",function(e,r,o){var i,a,c,f=0,s=o||[],l=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(n,e){return i=n,a=0,c=t,p.n=e,u}};function y(e,r){for(a=e,c=r,n=0;!l&&f&&!o&&n<s.length;n++){var o,i=s[n],y=p.p,v=i[2];e>3?(o=v===r)&&(c=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=t):i[0]<=y&&((o=e<2&&y<i[1])?(a=0,p.v=r,p.n=i[1]):y<v&&(o=e<3||i[0]>r||r>v)&&(i[4]=e,i[5]=r,p.n=v,a=0))}if(o||e>1)return u;throw l=!0,r}return function(o,s,v){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&y(s,v),a=s,c=v;(n=a<2?t:c)||!l;){i||(a?a<3?(a>1&&(p.n=-1),y(a,c)):p.n=c:p.v=c);try{if(f=2,i){if(a||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,a<2&&(a=0)}else 1===a&&(n=i.return)&&n.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((n=(l=p.n<0)?c:e.call(r,p))!==u)break}catch(n){i=t,a=1,c=n}finally{f=1}}return{value:n,done:l}}}(e,o,i),!0),f}var u={};function a(){}function c(){}function f(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(A(n={},r,(function(){return this})),n),l=f.prototype=a.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,A(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=f,A(l,"constructor",f),A(f,"constructor",c),c.displayName="GeneratorFunction",A(f,o,"GeneratorFunction"),A(l),A(l,o,"Generator"),A(l,r,(function(){return this})),A(l,"toString",(function(){return"[object Generator]"})),(L=function(){return{w:i,m:p}})()}function A(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}A=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var i=function(n,e){A(t,n,(function(t){return this._invoke(n,e,t)}))};i("next",0),i("throw",1),i("return",2)}},A(t,n,e,r)}function B(t,n){this.v=t,this.k=n}function D(t,n,e,r,o,i,u){try{var a=t[i](u),c=a.value}catch(t){return void e(t)}a.done?n(c):Promise.resolve(c).then(r,o)}function M(t){return function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function u(t){D(i,r,o,u,a,"next",t)}function a(t){D(i,r,o,u,a,"throw",t)}u(void 0)}))}}s((t=>({...t,get:(n,e,r)=>O(n,e)?S:t.get(n,e,r),has:(n,e)=>O(n,e)||t.has(n,e)})));var C="stories",H=function(t,n,{blocked:e,upgrade:r,blocking:o,terminated:i}={}){const u=indexedDB.open(t,n),a=p(u);return r&&u.addEventListener("upgradeneeded",(t=>{r(p(u.result),t.oldVersion,t.newVersion,p(u.transaction),t)})),e&&u.addEventListener("blocked",(t=>e(t.oldVersion,t.newVersion,t))),a.then((t=>{i&&t.addEventListener("close",(()=>i())),o&&t.addEventListener("versionchange",(t=>o(t.oldVersion,t.newVersion,t)))})).catch((()=>{})),a}("story-db",1,{upgrade:function(t){t.objectStoreNames.contains(C)||t.createObjectStore(C,{keyPath:"id"})}});const U={saveStory:function(t){return M(T().mark((function n(){var e,r,o;return T().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,H;case 2:return e=n.sent,n.next=5,e.put(C,t);case 5:if(!t.photoUrl){n.next=25;break}return n.prev=6,n.next=9,fetch(t.photoUrl,{mode:"no-cors"});case 9:if(!(r=n.sent)||!r.ok&&"opaque"!==r.type){n.next=19;break}return n.next=13,caches.open("story-app-shell-v5");case 13:return o=n.sent,n.next=16,o.put(t.photoUrl,r.clone());case 16:console.log("[IDBHelper] Gambar disimpan ke cache:",t.photoUrl),n.next=20;break;case 19:console.warn("[IDBHelper] Gagal fetch gambar:",t.photoUrl);case 20:n.next=25;break;case 22:n.prev=22,n.t0=n.catch(6),console.warn("[IDBHelper] Error simpan gambar ke cache:",t.photoUrl,n.t0);case 25:case"end":return n.stop()}}),n,null,[[6,22]])})))()},saveStoriesBulk:function(t){return M(T().mark((function n(){var e,r,o,i,u;return T().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,H;case 2:e=n.sent,r=e.transaction(C,"readwrite"),o=_(t);try{for(o.s();!(i=o.n()).done;)u=i.value,r.store.put(u)}catch(t){o.e(t)}finally{o.f()}return n.next=8,r.done;case 8:case"end":return n.stop()}}),n)})))()},getAllStories:function(){return M(T().mark((function t(){return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H;case 2:return t.abrupt("return",t.sent.getAll(C));case 3:case"end":return t.stop()}}),t)})))()},deleteStory:function(t){return M(T().mark((function n(){var e,r,o;return T().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,H;case 2:return e=n.sent,n.next=5,e.get(C,t);case 5:return r=n.sent,n.next=8,e.delete(C,t);case 8:if(!r||!r.photoUrl){n.next=15;break}return n.next=11,caches.open("story-app-shell-v5");case 11:return o=n.sent,n.next=14,o.delete(r.photoUrl);case 14:console.log("[IDBHelper] Gambar dihapus dari cache:",r.photoUrl);case 15:case"end":return n.stop()}}),n)})))()},clearAllStories:function(){return M(T().mark((function t(){return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H;case 2:return t.abrupt("return",t.sent.clear(C));case 3:case"end":return t.stop()}}),t)})))()}}}},n={};function e(r){var o=n[r];if(void 0!==o)return o.exports;var i=n[r]={exports:{}};return t[r](i,i.exports,e),i.exports}e.d=(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},e.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),e.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};const r={parseActiveUrlWithCombiner:function(){var t=window.location.hash.slice(1).toLowerCase(),n=this._urlSplitter(t);return this._urlCombiner(n)},_urlSplitter:function(t){var n=t.split("/");return{resource:n[1]||null,id:n[2]||null}},_urlCombiner:function(t){var n=t.resource;return t.id?"/".concat(n,"/:id"):"/".concat(n||"")}};function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(){var t=l(),n=t.m(i),e=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function r(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===e||"GeneratorFunction"===(n.displayName||n.name))}var o={throw:1,return:2,break:3,continue:3};function p(t){var n,e;return function(r){n||(n={stop:function(){return e(r.a,2)},catch:function(){return r.v},abrupt:function(t,n){return e(r.a,o[t],n)},delegateYield:function(t,o,i){return n.resultName=o,e(r.d,u(t),i)},finish:function(t){return e(r.f,t)}},e=function(t,e,o){r.p=n.prev,r.n=n.next;try{return t(e,o)}finally{n.next=r.n}}),n.resultName&&(n[n.resultName]=r.v,n.resultName=void 0),n.sent=r.v,n.next=r.n;try{return t.call(this,n)}finally{r.p=n.prev,r.n=n.next}}}return(i=function(){return{wrap:function(n,e,r,o){return t.w(p(n),e,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,n){return new y(t,n)},AsyncIterator:s,async:function(t,n,e,o,i){return(r(n)?f:c)(p(t),n,e,o,i)},keys:a,values:u}})()}function u(t){if(null!=t){var n=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}throw new TypeError(o(t)+" is not iterable")}function a(t){var n=Object(t),e=[];for(var r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function c(t,n,e,r,o){var i=f(t,n,e,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function f(t,n,e,r,o){return new s(l().w(t,n,e,r),o||Promise)}function s(t,n){function e(r,o,i,u){try{var a=t[r](o),c=a.value;return c instanceof y?n.resolve(c.v).then((function(t){e("next",t,i,u)}),(function(t){e("throw",t,i,u)})):n.resolve(c).then((function(t){a.value=t,i(a)}),(function(t){return e("throw",t,i,u)}))}catch(t){u(t)}}var r;this.next||(p(s.prototype),p(s.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),p(this,"_invoke",(function(t,o,i){function u(){return new n((function(n,r){e(t,i,n,r)}))}return r=r?r.then(u,u):u()}),!0)}function l(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var c=r&&r.prototype instanceof a?r:a,f=Object.create(c.prototype);return p(f,"_invoke",function(e,r,o){var i,a,c,f=0,s=o||[],l=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(n,e){return i=n,a=0,c=t,p.n=e,u}};function y(e,r){for(a=e,c=r,n=0;!l&&f&&!o&&n<s.length;n++){var o,i=s[n],y=p.p,v=i[2];e>3?(o=v===r)&&(c=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=t):i[0]<=y&&((o=e<2&&y<i[1])?(a=0,p.v=r,p.n=i[1]):y<v&&(o=e<3||i[0]>r||r>v)&&(i[4]=e,i[5]=r,p.n=v,a=0))}if(o||e>1)return u;throw l=!0,r}return function(o,s,v){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&y(s,v),a=s,c=v;(n=a<2?t:c)||!l;){i||(a?a<3?(a>1&&(p.n=-1),y(a,c)):p.n=c:p.v=c);try{if(f=2,i){if(a||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,a<2&&(a=0)}else 1===a&&(n=i.return)&&n.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((n=(l=p.n<0)?c:e.call(r,p))!==u)break}catch(n){i=t,a=1,c=n}finally{f=1}}return{value:n,done:l}}}(e,o,i),!0),f}var u={};function a(){}function c(){}function f(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(p(n={},r,(function(){return this})),n),y=f.prototype=a.prototype=Object.create(s);function v(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,p(t,o,"GeneratorFunction")),t.prototype=Object.create(y),t}return c.prototype=f,p(y,"constructor",f),p(f,"constructor",c),c.displayName="GeneratorFunction",p(f,o,"GeneratorFunction"),p(y),p(y,o,"Generator"),p(y,r,(function(){return this})),p(y,"toString",(function(){return"[object Generator]"})),(l=function(){return{w:i,m:v}})()}function p(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}p=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var i=function(n,e){p(t,n,(function(t){return this._invoke(n,e,t)}))};i("next",0),i("throw",1),i("return",2)}},p(t,n,e,r)}function y(t,n){this.v=t,this.k=n}function v(t,n,e,r,o,i,u){try{var a=t[i](u),c=a.value}catch(t){return void e(t)}a.done?n(c):Promise.resolve(c).then(r,o)}var d={render:function(t){return(n=i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.innerHTML='\n      <section class="form-container" aria-labelledby="login-heading">\n        <h2 id="login-heading">Login</h2>\n        <form id="login-form">\n          <label for="login-email">Email</label>\n          <input type="email" id="login-email" placeholder="Email" required aria-required="true" />\n\n          <label for="login-password">Password</label>\n          <input type="password" id="login-password" placeholder="Password" required aria-required="true" class="password-input" />\n\n          <button type="submit">Login</button>\n        </form>\n        <p>Belum punya akun? <a href="#/register">Register</a></p>\n        <div id="login-error" role="alert" style="color: red; margin-top: 1rem;"></div>\n      </section>\n    ';case 1:case"end":return n.stop()}}),n)})),function(){var t=this,e=arguments;return new Promise((function(r,o){var i=n.apply(t,e);function u(t){v(i,r,o,u,a,"next",t)}function a(t){v(i,r,o,u,a,"throw",t)}u(void 0)}))})();var n},bindLogin:function(t){var n=this,e=document.getElementById("login-form"),r=document.getElementById("login-email"),o=document.getElementById("login-password");e&&r&&o?e.addEventListener("submit",(function(e){e.preventDefault(),n.clearError(),t({email:r.value,password:o.value})})):console.error("Elemen login tidak ditemukan.")},showError:function(t){var n=document.getElementById("login-error");n?n.textContent=t:alert(t)},clearError:function(){var t=document.getElementById("login-error");t&&(t.textContent="")},navigateTo:function(t){window.location.hash=t}};const h=d;function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function b(){var t=O(),n=t.m(b),e=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function r(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===e||"GeneratorFunction"===(n.displayName||n.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var n,e;return function(r){n||(n={stop:function(){return e(r.a,2)},catch:function(){return r.v},abrupt:function(t,n){return e(r.a,o[t],n)},delegateYield:function(t,o,i){return n.resultName=o,e(r.d,g(t),i)},finish:function(t){return e(r.f,t)}},e=function(t,e,o){r.p=n.prev,r.n=n.next;try{return t(e,o)}finally{n.next=r.n}}),n.resultName&&(n[n.resultName]=r.v,n.resultName=void 0),n.sent=r.v,n.next=r.n;try{return t.call(this,n)}finally{r.p=n.prev,r.n=n.next}}}return(b=function(){return{wrap:function(n,e,r,o){return t.w(i(n),e,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,n){return new _(t,n)},AsyncIterator:S,async:function(t,n,e,o,u){return(r(n)?k:x)(i(t),n,e,o,u)},keys:w,values:g}})()}function g(t){if(null!=t){var n=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}throw new TypeError(m(t)+" is not iterable")}function w(t){var n=Object(t),e=[];for(var r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function x(t,n,e,r,o){var i=k(t,n,e,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function k(t,n,e,r,o){return new S(O().w(t,n,e,r),o||Promise)}function S(t,n){function e(r,o,i,u){try{var a=t[r](o),c=a.value;return c instanceof _?n.resolve(c.v).then((function(t){e("next",t,i,u)}),(function(t){e("throw",t,i,u)})):n.resolve(c).then((function(t){a.value=t,i(a)}),(function(t){return e("throw",t,i,u)}))}catch(t){u(t)}}var r;this.next||(j(S.prototype),j(S.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),j(this,"_invoke",(function(t,o,i){function u(){return new n((function(n,r){e(t,i,n,r)}))}return r=r?r.then(u,u):u()}),!0)}function O(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var c=r&&r.prototype instanceof a?r:a,f=Object.create(c.prototype);return j(f,"_invoke",function(e,r,o){var i,a,c,f=0,s=o||[],l=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(n,e){return i=n,a=0,c=t,p.n=e,u}};function y(e,r){for(a=e,c=r,n=0;!l&&f&&!o&&n<s.length;n++){var o,i=s[n],y=p.p,v=i[2];e>3?(o=v===r)&&(c=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=t):i[0]<=y&&((o=e<2&&y<i[1])?(a=0,p.v=r,p.n=i[1]):y<v&&(o=e<3||i[0]>r||r>v)&&(i[4]=e,i[5]=r,p.n=v,a=0))}if(o||e>1)return u;throw l=!0,r}return function(o,s,v){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&y(s,v),a=s,c=v;(n=a<2?t:c)||!l;){i||(a?a<3?(a>1&&(p.n=-1),y(a,c)):p.n=c:p.v=c);try{if(f=2,i){if(a||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,a<2&&(a=0)}else 1===a&&(n=i.return)&&n.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((n=(l=p.n<0)?c:e.call(r,p))!==u)break}catch(n){i=t,a=1,c=n}finally{f=1}}return{value:n,done:l}}}(e,o,i),!0),f}var u={};function a(){}function c(){}function f(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(j(n={},r,(function(){return this})),n),l=f.prototype=a.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,j(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=f,j(l,"constructor",f),j(f,"constructor",c),c.displayName="GeneratorFunction",j(f,o,"GeneratorFunction"),j(l),j(l,o,"Generator"),j(l,r,(function(){return this})),j(l,"toString",(function(){return"[object Generator]"})),(O=function(){return{w:i,m:p}})()}function j(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}j=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var i=function(n,e){j(t,n,(function(t){return this._invoke(n,e,t)}))};i("next",0),i("throw",1),i("return",2)}},j(t,n,e,r)}function _(t,n){this.v=t,this.k=n}function P(t,n,e,r,o,i,u){try{var a=t[i](u),c=a.value}catch(t){return void e(t)}a.done?n(c):Promise.resolve(c).then(r,o)}var T={render:function(t){return(n=b().mark((function n(){return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.innerHTML='\n      <section class="form-container" aria-labelledby="register-heading">\n        <h2 id="register-heading">Register</h2>\n        <form id="register-form">\n          <label for="register-name">Nama</label>\n          <input type="text" id="register-name" placeholder="Nama" required />\n          <label for="register-email">Email</label>\n          <input type="email" id="register-email" placeholder="Email" required />\n          <label for="register-password">Password</label>\n          <input type="password" id="register-password" placeholder="Password" required class="password-input" />\n          <button type="submit">Register</button>\n        </form>\n        <p id="register-message" aria-live="polite" style="color: red;"></p>\n        <p>Sudah punya akun? <a href="#/">Login</a></p>\n      </section>\n    ';case 1:case"end":return n.stop()}}),n)})),function(){var t=this,e=arguments;return new Promise((function(r,o){var i=n.apply(t,e);function u(t){P(i,r,o,u,a,"next",t)}function a(t){P(i,r,o,u,a,"throw",t)}u(void 0)}))})();var n},bindRegister:function(t){var n=document.getElementById("register-form"),e=document.getElementById("register-name"),r=document.getElementById("register-email"),o=document.getElementById("register-password");n&&e&&r&&o?n.addEventListener("submit",(function(n){n.preventDefault(),t({name:e.value.trim(),email:r.value.trim(),password:o.value})})):console.error("Elemen form tidak ditemukan.")},showMessage:function(t){var n=document.getElementById("register-message");n&&(n.style.color="green",n.textContent=t)},showError:function(t){var n=document.getElementById("register-message");n&&(n.style.color="red",n.textContent=t)},navigateTo:function(t){window.location.hash=t}};const E=T;function G(t){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G(t)}function N(){var t=M(),n=t.m(N),e=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function r(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===e||"GeneratorFunction"===(n.displayName||n.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var n,e;return function(r){n||(n={stop:function(){return e(r.a,2)},catch:function(){return r.v},abrupt:function(t,n){return e(r.a,o[t],n)},delegateYield:function(t,o,i){return n.resultName=o,e(r.d,I(t),i)},finish:function(t){return e(r.f,t)}},e=function(t,e,o){r.p=n.prev,r.n=n.next;try{return t(e,o)}finally{n.next=r.n}}),n.resultName&&(n[n.resultName]=r.v,n.resultName=void 0),n.sent=r.v,n.next=r.n;try{return t.call(this,n)}finally{r.p=n.prev,r.n=n.next}}}return(N=function(){return{wrap:function(n,e,r,o){return t.w(i(n),e,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,n){return new H(t,n)},AsyncIterator:D,async:function(t,n,e,o,u){return(r(n)?B:A)(i(t),n,e,o,u)},keys:F,values:I}})()}function I(t){if(null!=t){var n=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}throw new TypeError(G(t)+" is not iterable")}function F(t){var n=Object(t),e=[];for(var r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function A(t,n,e,r,o){var i=B(t,n,e,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function B(t,n,e,r,o){return new D(M().w(t,n,e,r),o||Promise)}function D(t,n){function e(r,o,i,u){try{var a=t[r](o),c=a.value;return c instanceof H?n.resolve(c.v).then((function(t){e("next",t,i,u)}),(function(t){e("throw",t,i,u)})):n.resolve(c).then((function(t){a.value=t,i(a)}),(function(t){return e("throw",t,i,u)}))}catch(t){u(t)}}var r;this.next||(C(D.prototype),C(D.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),C(this,"_invoke",(function(t,o,i){function u(){return new n((function(n,r){e(t,i,n,r)}))}return r=r?r.then(u,u):u()}),!0)}function M(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var c=r&&r.prototype instanceof a?r:a,f=Object.create(c.prototype);return C(f,"_invoke",function(e,r,o){var i,a,c,f=0,s=o||[],l=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(n,e){return i=n,a=0,c=t,p.n=e,u}};function y(e,r){for(a=e,c=r,n=0;!l&&f&&!o&&n<s.length;n++){var o,i=s[n],y=p.p,v=i[2];e>3?(o=v===r)&&(c=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=t):i[0]<=y&&((o=e<2&&y<i[1])?(a=0,p.v=r,p.n=i[1]):y<v&&(o=e<3||i[0]>r||r>v)&&(i[4]=e,i[5]=r,p.n=v,a=0))}if(o||e>1)return u;throw l=!0,r}return function(o,s,v){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&y(s,v),a=s,c=v;(n=a<2?t:c)||!l;){i||(a?a<3?(a>1&&(p.n=-1),y(a,c)):p.n=c:p.v=c);try{if(f=2,i){if(a||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,a<2&&(a=0)}else 1===a&&(n=i.return)&&n.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((n=(l=p.n<0)?c:e.call(r,p))!==u)break}catch(n){i=t,a=1,c=n}finally{f=1}}return{value:n,done:l}}}(e,o,i),!0),f}var u={};function a(){}function c(){}function f(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(C(n={},r,(function(){return this})),n),l=f.prototype=a.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,C(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=f,C(l,"constructor",f),C(f,"constructor",c),c.displayName="GeneratorFunction",C(f,o,"GeneratorFunction"),C(l),C(l,o,"Generator"),C(l,r,(function(){return this})),C(l,"toString",(function(){return"[object Generator]"})),(M=function(){return{w:i,m:p}})()}function C(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}C=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var i=function(n,e){C(t,n,(function(t){return this._invoke(n,e,t)}))};i("next",0),i("throw",1),i("return",2)}},C(t,n,e,r)}function H(t,n){this.v=t,this.k=n}function U(t,n,e,r,o,i,u){try{var a=t[i](u),c=a.value}catch(t){return void e(t)}a.done?n(c):Promise.resolve(c).then(r,o)}var R={render:function(t){return(n=N().mark((function n(){return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.innerHTML='\n      <div class="jumbotron">\n        <img src="public/images/jumbotron.jpg" alt="Banner Tanam AI" class="jumbotron-image" />\n        <div class="jumbotron-text">\n          <h2 id="home-heading">Selamat Datang di Tanam AI</h2>\n          <h3 id="welcome-message">\n            Kami membantu Anda mendeteksi penyakit pada tanaman secara cepat dan akurat\n          </h3>\n          <div class="jumbotron-buttons">\n            <a id="btn-deteksi" href="#/upload">Deteksi!</a>\n            <a id="btn-result" href="#/stories">Hasil</a>\n          </div>\n        </div>\n      </div>\n    ';case 1:case"end":return n.stop()}}),n)})),function(){var t=this,e=arguments;return new Promise((function(r,o){var i=n.apply(t,e);function u(t){U(i,r,o,u,a,"next",t)}function a(t){U(i,r,o,u,a,"throw",t)}u(void 0)}))})();var n},isPushSupported:function(){return"serviceWorker"in navigator&&"PushManager"in window},bindLogout:function(t){var n=document.getElementById("logout");n&&n.addEventListener("click",t)},navigateTo:function(t){window.location.hash=t},showAlert:function(t){alert(t)}};const W=R;function Y(t){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y(t)}function q(){var t=Q(),n=t.m(q),e=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function r(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===e||"GeneratorFunction"===(n.displayName||n.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var n,e;return function(r){n||(n={stop:function(){return e(r.a,2)},catch:function(){return r.v},abrupt:function(t,n){return e(r.a,o[t],n)},delegateYield:function(t,o,i){return n.resultName=o,e(r.d,K(t),i)},finish:function(t){return e(r.f,t)}},e=function(t,e,o){r.p=n.prev,r.n=n.next;try{return t(e,o)}finally{n.next=r.n}}),n.resultName&&(n[n.resultName]=r.v,n.resultName=void 0),n.sent=r.v,n.next=r.n;try{return t.call(this,n)}finally{r.p=n.prev,r.n=n.next}}}return(q=function(){return{wrap:function(n,e,r,o){return t.w(i(n),e,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,n){return new Z(t,n)},AsyncIterator:$,async:function(t,n,e,o,u){return(r(n)?J:z)(i(t),n,e,o,u)},keys:V,values:K}})()}function K(t){if(null!=t){var n=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}throw new TypeError(Y(t)+" is not iterable")}function V(t){var n=Object(t),e=[];for(var r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function z(t,n,e,r,o){var i=J(t,n,e,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function J(t,n,e,r,o){return new $(Q().w(t,n,e,r),o||Promise)}function $(t,n){function e(r,o,i,u){try{var a=t[r](o),c=a.value;return c instanceof Z?n.resolve(c.v).then((function(t){e("next",t,i,u)}),(function(t){e("throw",t,i,u)})):n.resolve(c).then((function(t){a.value=t,i(a)}),(function(t){return e("throw",t,i,u)}))}catch(t){u(t)}}var r;this.next||(X($.prototype),X($.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),X(this,"_invoke",(function(t,o,i){function u(){return new n((function(n,r){e(t,i,n,r)}))}return r=r?r.then(u,u):u()}),!0)}function Q(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var c=r&&r.prototype instanceof a?r:a,f=Object.create(c.prototype);return X(f,"_invoke",function(e,r,o){var i,a,c,f=0,s=o||[],l=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(n,e){return i=n,a=0,c=t,p.n=e,u}};function y(e,r){for(a=e,c=r,n=0;!l&&f&&!o&&n<s.length;n++){var o,i=s[n],y=p.p,v=i[2];e>3?(o=v===r)&&(c=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=t):i[0]<=y&&((o=e<2&&y<i[1])?(a=0,p.v=r,p.n=i[1]):y<v&&(o=e<3||i[0]>r||r>v)&&(i[4]=e,i[5]=r,p.n=v,a=0))}if(o||e>1)return u;throw l=!0,r}return function(o,s,v){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&y(s,v),a=s,c=v;(n=a<2?t:c)||!l;){i||(a?a<3?(a>1&&(p.n=-1),y(a,c)):p.n=c:p.v=c);try{if(f=2,i){if(a||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,a<2&&(a=0)}else 1===a&&(n=i.return)&&n.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((n=(l=p.n<0)?c:e.call(r,p))!==u)break}catch(n){i=t,a=1,c=n}finally{f=1}}return{value:n,done:l}}}(e,o,i),!0),f}var u={};function a(){}function c(){}function f(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(X(n={},r,(function(){return this})),n),l=f.prototype=a.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,X(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=f,X(l,"constructor",f),X(f,"constructor",c),c.displayName="GeneratorFunction",X(f,o,"GeneratorFunction"),X(l),X(l,o,"Generator"),X(l,r,(function(){return this})),X(l,"toString",(function(){return"[object Generator]"})),(Q=function(){return{w:i,m:p}})()}function X(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}X=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var i=function(n,e){X(t,n,(function(t){return this._invoke(n,e,t)}))};i("next",0),i("throw",1),i("return",2)}},X(t,n,e,r)}function Z(t,n){this.v=t,this.k=n}function tt(t,n,e,r,o,i,u){try{var a=t[i](u),c=a.value}catch(t){return void e(t)}a.done?n(c):Promise.resolve(c).then(r,o)}function nt(t){return function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function u(t){tt(i,r,o,u,a,"next",t)}function a(t){tt(i,r,o,u,a,"throw",t)}u(void 0)}))}}const et={render:function(t){return nt(q().mark((function n(){return q().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.innerHTML='\n      <main id="main-content">\n        <section class="upload-container" aria-labelledby="upload-heading">\n          <h2 id="upload-heading">Upload Foto Tanaman</h2>\n          <form id="upload-form" class="form-container">\n\n            <label for="photo-camera">Ambil Gambar dari Kamera</label>\n            <video id="video" autoplay playsinline></video>\n            <div class="camera-controls">\n              <button type="button" id="start-camera">Mulai Kamera</button>\n              <button type="button" id="stop-camera" style="display:none;">Matikan Kamera</button>\n              <button type="button" id="take-photo">Ambil Foto</button>\n            </div>\n            <label for="photo-file" class="custom-file-label">Unggah Gambar dari File</label>\n            \n            <input type="file" id="photo-file" accept="image/*" class="custom-file-input"/>\n            <div id="file-preview" class="file-preview"></div>\n            <canvas id="canvas" style="display: none;"></canvas>\n\n            <fieldset class="prediction-options">\n              <legend>Pilih Jenis Prediksi</legend>\n              <label><input type="radio" name="prediction-type" value="padi" checked /> Padi</label>\n              <label><input type="radio" name="prediction-type" value="jagung" /> Jagung</label>\n              <label><input type="radio" name="prediction-type" value="kentang" /> Kentang</label>\n              <label><input type="radio" name="prediction-type" value="hama" /> Hama</label>\n            </fieldset>\n\n            <button type="submit">Upload</button>\n          </form>\n          <button id="back-home">Kembali</button>\n        </section>\n      </main>\n    ';case 1:case"end":return n.stop()}}),n)})))()},bindBackHome:function(t){document.getElementById("back-home").addEventListener("click",t)},bindUseCurrentLocation:function(t){document.getElementById("use-current-location").addEventListener("click",t)},bindStartCamera:function(t){document.getElementById("start-camera").addEventListener("click",t)},bindStopCamera:function(t){document.getElementById("stop-camera").addEventListener("click",t)},bindTakePhoto:function(t){document.getElementById("take-photo").addEventListener("click",t)},bindFileInputChange:function(t){var n=document.getElementById("photo-file");n&&n.addEventListener("change",(function(n){var e=n.target.files[0];t(e)}))},bindFormSubmit:function(t){document.getElementById("upload-form").addEventListener("submit",t)},getDescription:function(){return document.getElementById("description").value},showAlert:function(t){alert(t)},navigateTo:function(t){window.location.hash=t},updateCoordinatesText:function(t){document.getElementById("coordinates").textContent=t},showImagePreview:function(t){var n=document.getElementById("file-preview");n.innerHTML="";var e=new Image;e.style.maxWidth="100%",e.style.maxHeight="100%",e.src="string"==typeof t?t:URL.createObjectURL(t),n.appendChild(e)},startCameraStream:function(t){document.getElementById("video").srcObject=t,document.getElementById("start-camera").style.display="none",document.getElementById("stop-camera").style.display="inline-block"},stopCameraStream:function(){document.getElementById("video").srcObject=null,document.getElementById("start-camera").style.display="inline-block",document.getElementById("stop-camera").style.display="none"},takePhotoFromVideo:function(){return nt(q().mark((function t(){var n,e;return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=document.getElementById("video"),e=document.getElementById("canvas"),0!==n.videoWidth&&0!==n.videoHeight){t.next=4;break}return t.abrupt("return",null);case 4:return e.width=n.videoWidth,e.height=n.videoHeight,e.getContext("2d").drawImage(n,0,0),t.abrupt("return",new Promise((function(t){e.toBlob((function(n){t(n)}),"image/jpeg")})));case 9:case"end":return t.stop()}}),t)})))()},handleHashChangeOnLeave:function(t){var n=function(){t(),window.removeEventListener("hashchange",n)};window.addEventListener("hashchange",n)},setFormDisabled:function(t){var n=document.querySelector('#upload-form button[type="submit"]');n&&(n.disabled=t)},getSelectedPredictionType:function(){var t=document.querySelector('input[name="prediction-type"]:checked');return t?t.value:null}},rt="https://servercapstone-production.up.railway.app",ot="https://servercapstone-production.up.railway.app/uploads";function it(t){return it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},it(t)}function ut(){var t=pt(),n=t.m(ut),e=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function r(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===e||"GeneratorFunction"===(n.displayName||n.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var n,e;return function(r){n||(n={stop:function(){return e(r.a,2)},catch:function(){return r.v},abrupt:function(t,n){return e(r.a,o[t],n)},delegateYield:function(t,o,i){return n.resultName=o,e(r.d,at(t),i)},finish:function(t){return e(r.f,t)}},e=function(t,e,o){r.p=n.prev,r.n=n.next;try{return t(e,o)}finally{n.next=r.n}}),n.resultName&&(n[n.resultName]=r.v,n.resultName=void 0),n.sent=r.v,n.next=r.n;try{return t.call(this,n)}finally{r.p=n.prev,r.n=n.next}}}return(ut=function(){return{wrap:function(n,e,r,o){return t.w(i(n),e,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,n){return new vt(t,n)},AsyncIterator:lt,async:function(t,n,e,o,u){return(r(n)?st:ft)(i(t),n,e,o,u)},keys:ct,values:at}})()}function at(t){if(null!=t){var n=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}throw new TypeError(it(t)+" is not iterable")}function ct(t){var n=Object(t),e=[];for(var r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function ft(t,n,e,r,o){var i=st(t,n,e,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function st(t,n,e,r,o){return new lt(pt().w(t,n,e,r),o||Promise)}function lt(t,n){function e(r,o,i,u){try{var a=t[r](o),c=a.value;return c instanceof vt?n.resolve(c.v).then((function(t){e("next",t,i,u)}),(function(t){e("throw",t,i,u)})):n.resolve(c).then((function(t){a.value=t,i(a)}),(function(t){return e("throw",t,i,u)}))}catch(t){u(t)}}var r;this.next||(yt(lt.prototype),yt(lt.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),yt(this,"_invoke",(function(t,o,i){function u(){return new n((function(n,r){e(t,i,n,r)}))}return r=r?r.then(u,u):u()}),!0)}function pt(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var c=r&&r.prototype instanceof a?r:a,f=Object.create(c.prototype);return yt(f,"_invoke",function(e,r,o){var i,a,c,f=0,s=o||[],l=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(n,e){return i=n,a=0,c=t,p.n=e,u}};function y(e,r){for(a=e,c=r,n=0;!l&&f&&!o&&n<s.length;n++){var o,i=s[n],y=p.p,v=i[2];e>3?(o=v===r)&&(c=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=t):i[0]<=y&&((o=e<2&&y<i[1])?(a=0,p.v=r,p.n=i[1]):y<v&&(o=e<3||i[0]>r||r>v)&&(i[4]=e,i[5]=r,p.n=v,a=0))}if(o||e>1)return u;throw l=!0,r}return function(o,s,v){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&y(s,v),a=s,c=v;(n=a<2?t:c)||!l;){i||(a?a<3?(a>1&&(p.n=-1),y(a,c)):p.n=c:p.v=c);try{if(f=2,i){if(a||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,a<2&&(a=0)}else 1===a&&(n=i.return)&&n.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((n=(l=p.n<0)?c:e.call(r,p))!==u)break}catch(n){i=t,a=1,c=n}finally{f=1}}return{value:n,done:l}}}(e,o,i),!0),f}var u={};function a(){}function c(){}function f(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(yt(n={},r,(function(){return this})),n),l=f.prototype=a.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,yt(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=f,yt(l,"constructor",f),yt(f,"constructor",c),c.displayName="GeneratorFunction",yt(f,o,"GeneratorFunction"),yt(l),yt(l,o,"Generator"),yt(l,r,(function(){return this})),yt(l,"toString",(function(){return"[object Generator]"})),(pt=function(){return{w:i,m:p}})()}function yt(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}yt=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var i=function(n,e){yt(t,n,(function(t){return this._invoke(n,e,t)}))};i("next",0),i("throw",1),i("return",2)}},yt(t,n,e,r)}function vt(t,n){this.v=t,this.k=n}function dt(t,n,e,r,o,i,u){try{var a=t[i](u),c=a.value}catch(t){return void e(t)}a.done?n(c):Promise.resolve(c).then(r,o)}function ht(t){return function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function u(t){dt(i,r,o,u,a,"next",t)}function a(t){dt(i,r,o,u,a,"throw",t)}u(void 0)}))}}const mt={render:function(t){return ht(ut().mark((function n(){return ut().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.innerHTML='\n      <a href="#story-container" class="skip-link">Skip to content</a>\n      <main id="main-content">\n        <section class="story-container" id="story-container" aria-labelledby="story-heading">\n          <h2 id="story-heading">Detection Results</h2>\n          <div class="story-list" id="story-list"></div>\n        </section>\n      </main>\n    ';case 1:case"end":return n.stop()}}),n)})))()},showStories:function(t){var n=document.getElementById("story-list");t&&0!==t.length?n.innerHTML=t.map((function(t){var n=t.image_url||"".concat(ot,"/").concat(t.image_filename),e=t.top3||[],r=new Date(t.created_at).toLocaleString("id-ID");return'\n      <a href="#/stories/'.concat(t.id,'" class="story-card">\n        <img src="').concat(n,'" alt="Detection Result" class="story-image" />\n        <div class="story-info">\n          <h3>Jenis Prediksi: ').concat(t.model_type,"</h3>\n          <p><small><strong>Uploaded:</strong> ").concat(r,'</small></p>\n\n          <div class="predictions-list">\n            ').concat(e.map((function(t){return'\n              <div class="prediction-item">\n                <div class="prediction-details">\n                  <span class="disease-name">'.concat(t.label,'</span>\n                  <span class="confidence-score">').concat((100*t.probability).toFixed(0),'%</span>\n                </div>\n                <div class="progress-bar-container">\n                  <div class="progress-bar" style="width: ').concat(100*t.probability,'%;"></div>\n                </div>\n              </div>\n            ')})).join(""),"\n          </div>\n        </div>\n      </a>\n    ")})).join(""):n.innerHTML="<p>No detection found.</p>"},showError:function(t){document.getElementById("story-list").innerHTML='<p class="error">'.concat(t,"</p>")},navigateTo:function(t){window.location.hash=t},afterRender:function(){return ht(ut().mark((function t(){return ut().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()}};function bt(t){return bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bt(t)}function gt(){var t=jt(),n=t.m(gt),e=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function r(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===e||"GeneratorFunction"===(n.displayName||n.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var n,e;return function(r){n||(n={stop:function(){return e(r.a,2)},catch:function(){return r.v},abrupt:function(t,n){return e(r.a,o[t],n)},delegateYield:function(t,o,i){return n.resultName=o,e(r.d,wt(t),i)},finish:function(t){return e(r.f,t)}},e=function(t,e,o){r.p=n.prev,r.n=n.next;try{return t(e,o)}finally{n.next=r.n}}),n.resultName&&(n[n.resultName]=r.v,n.resultName=void 0),n.sent=r.v,n.next=r.n;try{return t.call(this,n)}finally{r.p=n.prev,r.n=n.next}}}return(gt=function(){return{wrap:function(n,e,r,o){return t.w(i(n),e,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,n){return new Pt(t,n)},AsyncIterator:Ot,async:function(t,n,e,o,u){return(r(n)?St:kt)(i(t),n,e,o,u)},keys:xt,values:wt}})()}function wt(t){if(null!=t){var n=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}throw new TypeError(bt(t)+" is not iterable")}function xt(t){var n=Object(t),e=[];for(var r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function kt(t,n,e,r,o){var i=St(t,n,e,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function St(t,n,e,r,o){return new Ot(jt().w(t,n,e,r),o||Promise)}function Ot(t,n){function e(r,o,i,u){try{var a=t[r](o),c=a.value;return c instanceof Pt?n.resolve(c.v).then((function(t){e("next",t,i,u)}),(function(t){e("throw",t,i,u)})):n.resolve(c).then((function(t){a.value=t,i(a)}),(function(t){return e("throw",t,i,u)}))}catch(t){u(t)}}var r;this.next||(_t(Ot.prototype),_t(Ot.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),_t(this,"_invoke",(function(t,o,i){function u(){return new n((function(n,r){e(t,i,n,r)}))}return r=r?r.then(u,u):u()}),!0)}function jt(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var c=r&&r.prototype instanceof a?r:a,f=Object.create(c.prototype);return _t(f,"_invoke",function(e,r,o){var i,a,c,f=0,s=o||[],l=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(n,e){return i=n,a=0,c=t,p.n=e,u}};function y(e,r){for(a=e,c=r,n=0;!l&&f&&!o&&n<s.length;n++){var o,i=s[n],y=p.p,v=i[2];e>3?(o=v===r)&&(c=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=t):i[0]<=y&&((o=e<2&&y<i[1])?(a=0,p.v=r,p.n=i[1]):y<v&&(o=e<3||i[0]>r||r>v)&&(i[4]=e,i[5]=r,p.n=v,a=0))}if(o||e>1)return u;throw l=!0,r}return function(o,s,v){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&y(s,v),a=s,c=v;(n=a<2?t:c)||!l;){i||(a?a<3?(a>1&&(p.n=-1),y(a,c)):p.n=c:p.v=c);try{if(f=2,i){if(a||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,a<2&&(a=0)}else 1===a&&(n=i.return)&&n.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((n=(l=p.n<0)?c:e.call(r,p))!==u)break}catch(n){i=t,a=1,c=n}finally{f=1}}return{value:n,done:l}}}(e,o,i),!0),f}var u={};function a(){}function c(){}function f(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(_t(n={},r,(function(){return this})),n),l=f.prototype=a.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,_t(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=f,_t(l,"constructor",f),_t(f,"constructor",c),c.displayName="GeneratorFunction",_t(f,o,"GeneratorFunction"),_t(l),_t(l,o,"Generator"),_t(l,r,(function(){return this})),_t(l,"toString",(function(){return"[object Generator]"})),(jt=function(){return{w:i,m:p}})()}function _t(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}_t=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var i=function(n,e){_t(t,n,(function(t){return this._invoke(n,e,t)}))};i("next",0),i("throw",1),i("return",2)}},_t(t,n,e,r)}function Pt(t,n){this.v=t,this.k=n}function Tt(t,n,e,r,o,i,u){try{var a=t[i](u),c=a.value}catch(t){return void e(t)}a.done?n(c):Promise.resolve(c).then(r,o)}var Et={render:function(t,n){t.innerHTML='<h2>Bookmark Offline</h2><div id="offline-list"></div>';var r=document.getElementById("offline-list");0!==n.length?(n.forEach((function(t){var n=document.createElement("div");n.className="offline-story",n.innerHTML="\n        <h4>".concat(t.name,"</h4>\n        <p>").concat(t.description,'</p>\n        <button class="unbookmark-btn" data-id="').concat(t.id,'">Unbookmark</button>\n      '),r.appendChild(n)})),r.addEventListener("click",function(){var t,n=(t=gt().mark((function t(n){var r,o;return gt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.target.classList.contains("unbookmark-btn")){t.next=8;break}return r=n.target.dataset.id,t.next=4,Promise.resolve().then(e.bind(e,266));case 4:return o=t.sent.default,t.next=7,o.deleteStory(r);case 7:n.target.closest(".offline-story").remove();case 8:case"end":return t.stop()}}),t)})),function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function u(t){Tt(i,r,o,u,a,"next",t)}function a(t){Tt(i,r,o,u,a,"throw",t)}u(void 0)}))});return function(t){return n.apply(this,arguments)}}())):r.innerHTML="<p>Belum ada cerita yang disimpan.</p>"}};const Gt=Et,Nt=function(t){var n=document.createElement("div");return n.classList.add("story-detail-container"),n.innerHTML='\n      <h2 class="plant-type-title">Jenis Prediksi: '.concat(t.model_type,'</h2>\n      <img src="').concat(t.image_url||"".concat(ot,"/").concat(t.image_filename),'" alt="Hasil Deteksi" class="detail-story-image" />\n\n      <div class="detail-predictions-list">\n        <h3 class="prediction-list-title">Kemungkinan Hama / Penyakit:</h3>\n\n        ').concat(t.top3.map((function(t){var n,e,r;return"Deskripsi"===t.type?'\n              <div class="prediction-detail-item">\n                <div class="prediction-header">\n                  <h4>\n                    '.concat(t.label,'\n                    <span class="badge bg-success ms-2">(Serangga Baik)</span>\n                  </h4>\n                  <span class="confidence-score">').concat((100*t.probability).toFixed(0),'% Kemungkinan</span>\n                </div>\n\n                <div class="progress-bar-container">\n                  <div class="progress-bar" style="width: ').concat(100*t.probability,'%;"></div>\n                </div>\n\n                <div class="disease-info">\n                  <p><strong>Deskripsi:</strong> ').concat(t.gejala||"-","</p>\n                </div>\n              </div>\n            "):'\n            <div class="prediction-detail-item">\n              <div class="prediction-header">\n                <h4>'.concat(t.label,'</h4>\n                <span class="confidence-score">').concat((100*t.probability).toFixed(0),'% Kemungkinan</span>\n              </div>\n\n              <div class="progress-bar-container">\n                <div class="progress-bar" style="width: ').concat(100*t.probability,'%;"></div>\n              </div>\n\n              <div class="disease-info">\n                <p><strong>').concat(t.type||"Deskripsi",":</strong> ").concat(t.gejala||"-",'</p>\n\n                <div class="solution-block">\n                  <p><strong>Solusi Organik:</strong></p>\n                  <ul>').concat(((null===(n=t.solusi)||void 0===n?void 0:n.organik)||[]).map((function(t){return"<li>".concat(t,"</li>")})).join(""),'</ul>\n                </div>\n\n                <div class="solution-block">\n                  <p><strong>Solusi Anorganik:</strong></p>\n                  <p>').concat((null===(e=t.solusi)||void 0===e?void 0:e.anorganik)||"-","</p>\n                </div>\n\n                ").concat(null!==(r=t.produk)&&void 0!==r&&r.length?'\n                  <div class="solution-block">\n                    <p><strong>Produk:</strong></p>\n                    <ul class="product-list">\n                      '.concat(t.produk.map((function(t){return'\n                        <li>\n                          <a href="'.concat(t.url,'" target="_blank" rel="noopener noreferrer" class="btn-product">\n                            ').concat(t.platform).concat(t.jenis?" (".concat(t.jenis,")"):"",' <i class="fas fa-external-link-alt"></i>\n                          </a>\n                        </li>\n                      ')})).join(""),"\n                    </ul>\n                  </div>\n                "):"","\n              </div>\n            </div>\n          ")})).join(""),'\n      </div>\n\n      <div class="back-button-container" style="margin-top: 30px; text-align: center;">\n        <a href="#/stories" class="btn-back"> Kembali ke Daftar Hasil</a>\n      </div>\n    '),n};function It(t){return It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},It(t)}function Ft(){var t=Ct(),n=t.m(Ft),e=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function r(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===e||"GeneratorFunction"===(n.displayName||n.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var n,e;return function(r){n||(n={stop:function(){return e(r.a,2)},catch:function(){return r.v},abrupt:function(t,n){return e(r.a,o[t],n)},delegateYield:function(t,o,i){return n.resultName=o,e(r.d,Lt(t),i)},finish:function(t){return e(r.f,t)}},e=function(t,e,o){r.p=n.prev,r.n=n.next;try{return t(e,o)}finally{n.next=r.n}}),n.resultName&&(n[n.resultName]=r.v,n.resultName=void 0),n.sent=r.v,n.next=r.n;try{return t.call(this,n)}finally{r.p=n.prev,r.n=n.next}}}return(Ft=function(){return{wrap:function(n,e,r,o){return t.w(i(n),e,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,n){return new Ut(t,n)},AsyncIterator:Mt,async:function(t,n,e,o,u){return(r(n)?Dt:Bt)(i(t),n,e,o,u)},keys:At,values:Lt}})()}function Lt(t){if(null!=t){var n=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}throw new TypeError(It(t)+" is not iterable")}function At(t){var n=Object(t),e=[];for(var r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function Bt(t,n,e,r,o){var i=Dt(t,n,e,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function Dt(t,n,e,r,o){return new Mt(Ct().w(t,n,e,r),o||Promise)}function Mt(t,n){function e(r,o,i,u){try{var a=t[r](o),c=a.value;return c instanceof Ut?n.resolve(c.v).then((function(t){e("next",t,i,u)}),(function(t){e("throw",t,i,u)})):n.resolve(c).then((function(t){a.value=t,i(a)}),(function(t){return e("throw",t,i,u)}))}catch(t){u(t)}}var r;this.next||(Ht(Mt.prototype),Ht(Mt.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),Ht(this,"_invoke",(function(t,o,i){function u(){return new n((function(n,r){e(t,i,n,r)}))}return r=r?r.then(u,u):u()}),!0)}function Ct(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var c=r&&r.prototype instanceof a?r:a,f=Object.create(c.prototype);return Ht(f,"_invoke",function(e,r,o){var i,a,c,f=0,s=o||[],l=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(n,e){return i=n,a=0,c=t,p.n=e,u}};function y(e,r){for(a=e,c=r,n=0;!l&&f&&!o&&n<s.length;n++){var o,i=s[n],y=p.p,v=i[2];e>3?(o=v===r)&&(c=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=t):i[0]<=y&&((o=e<2&&y<i[1])?(a=0,p.v=r,p.n=i[1]):y<v&&(o=e<3||i[0]>r||r>v)&&(i[4]=e,i[5]=r,p.n=v,a=0))}if(o||e>1)return u;throw l=!0,r}return function(o,s,v){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&y(s,v),a=s,c=v;(n=a<2?t:c)||!l;){i||(a?a<3?(a>1&&(p.n=-1),y(a,c)):p.n=c:p.v=c);try{if(f=2,i){if(a||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,a<2&&(a=0)}else 1===a&&(n=i.return)&&n.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((n=(l=p.n<0)?c:e.call(r,p))!==u)break}catch(n){i=t,a=1,c=n}finally{f=1}}return{value:n,done:l}}}(e,o,i),!0),f}var u={};function a(){}function c(){}function f(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(Ht(n={},r,(function(){return this})),n),l=f.prototype=a.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,Ht(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=f,Ht(l,"constructor",f),Ht(f,"constructor",c),c.displayName="GeneratorFunction",Ht(f,o,"GeneratorFunction"),Ht(l),Ht(l,o,"Generator"),Ht(l,r,(function(){return this})),Ht(l,"toString",(function(){return"[object Generator]"})),(Ct=function(){return{w:i,m:p}})()}function Ht(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}Ht=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var i=function(n,e){Ht(t,n,(function(t){return this._invoke(n,e,t)}))};i("next",0),i("throw",1),i("return",2)}},Ht(t,n,e,r)}function Ut(t,n){this.v=t,this.k=n}function Rt(t,n,e,r,o,i,u){try{var a=t[i](u),c=a.value}catch(t){return void e(t)}a.done?n(c):Promise.resolve(c).then(r,o)}function Wt(t){return function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function u(t){Rt(i,r,o,u,a,"next",t)}function a(t){Rt(i,r,o,u,a,"throw",t)}u(void 0)}))}}const Yt=function(t){return Wt(Ft().mark((function n(){var e;return Ft().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(rt,"/getmystories"),{headers:{Authorization:"Bearer ".concat(t)}});case 2:return e=n.sent,n.abrupt("return",e.json());case 4:case"end":return n.stop()}}),n)})))()},qt=function(t,n){return Wt(Ft().mark((function e(){var r;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(rt,"/poststories"),{method:"POST",headers:{Authorization:"Bearer ".concat(n)},body:t});case 2:return r=e.sent,e.abrupt("return",r.json());case 4:case"end":return e.stop()}}),e)})))()};function Kt(t){return Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kt(t)}function Vt(){var t=Zt(),n=t.m(Vt),e=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function r(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===e||"GeneratorFunction"===(n.displayName||n.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var n,e;return function(r){n||(n={stop:function(){return e(r.a,2)},catch:function(){return r.v},abrupt:function(t,n){return e(r.a,o[t],n)},delegateYield:function(t,o,i){return n.resultName=o,e(r.d,zt(t),i)},finish:function(t){return e(r.f,t)}},e=function(t,e,o){r.p=n.prev,r.n=n.next;try{return t(e,o)}finally{n.next=r.n}}),n.resultName&&(n[n.resultName]=r.v,n.resultName=void 0),n.sent=r.v,n.next=r.n;try{return t.call(this,n)}finally{r.p=n.prev,r.n=n.next}}}return(Vt=function(){return{wrap:function(n,e,r,o){return t.w(i(n),e,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,n){return new nn(t,n)},AsyncIterator:Xt,async:function(t,n,e,o,u){return(r(n)?Qt:$t)(i(t),n,e,o,u)},keys:Jt,values:zt}})()}function zt(t){if(null!=t){var n=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}throw new TypeError(Kt(t)+" is not iterable")}function Jt(t){var n=Object(t),e=[];for(var r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function $t(t,n,e,r,o){var i=Qt(t,n,e,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function Qt(t,n,e,r,o){return new Xt(Zt().w(t,n,e,r),o||Promise)}function Xt(t,n){function e(r,o,i,u){try{var a=t[r](o),c=a.value;return c instanceof nn?n.resolve(c.v).then((function(t){e("next",t,i,u)}),(function(t){e("throw",t,i,u)})):n.resolve(c).then((function(t){a.value=t,i(a)}),(function(t){return e("throw",t,i,u)}))}catch(t){u(t)}}var r;this.next||(tn(Xt.prototype),tn(Xt.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),tn(this,"_invoke",(function(t,o,i){function u(){return new n((function(n,r){e(t,i,n,r)}))}return r=r?r.then(u,u):u()}),!0)}function Zt(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var c=r&&r.prototype instanceof a?r:a,f=Object.create(c.prototype);return tn(f,"_invoke",function(e,r,o){var i,a,c,f=0,s=o||[],l=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(n,e){return i=n,a=0,c=t,p.n=e,u}};function y(e,r){for(a=e,c=r,n=0;!l&&f&&!o&&n<s.length;n++){var o,i=s[n],y=p.p,v=i[2];e>3?(o=v===r)&&(c=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=t):i[0]<=y&&((o=e<2&&y<i[1])?(a=0,p.v=r,p.n=i[1]):y<v&&(o=e<3||i[0]>r||r>v)&&(i[4]=e,i[5]=r,p.n=v,a=0))}if(o||e>1)return u;throw l=!0,r}return function(o,s,v){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&y(s,v),a=s,c=v;(n=a<2?t:c)||!l;){i||(a?a<3?(a>1&&(p.n=-1),y(a,c)):p.n=c:p.v=c);try{if(f=2,i){if(a||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,a<2&&(a=0)}else 1===a&&(n=i.return)&&n.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((n=(l=p.n<0)?c:e.call(r,p))!==u)break}catch(n){i=t,a=1,c=n}finally{f=1}}return{value:n,done:l}}}(e,o,i),!0),f}var u={};function a(){}function c(){}function f(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(tn(n={},r,(function(){return this})),n),l=f.prototype=a.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,tn(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=f,tn(l,"constructor",f),tn(f,"constructor",c),c.displayName="GeneratorFunction",tn(f,o,"GeneratorFunction"),tn(l),tn(l,o,"Generator"),tn(l,r,(function(){return this})),tn(l,"toString",(function(){return"[object Generator]"})),(Zt=function(){return{w:i,m:p}})()}function tn(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}tn=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var i=function(n,e){tn(t,n,(function(t){return this._invoke(n,e,t)}))};i("next",0),i("throw",1),i("return",2)}},tn(t,n,e,r)}function nn(t,n){this.v=t,this.k=n}function en(t,n,e,r,o,i,u){try{var a=t[i](u),c=a.value}catch(t){return void e(t)}a.done?n(c):Promise.resolve(c).then(r,o)}var rn={init:function(t){return(n=Vt().mark((function n(){var e,r,o,i,u,a;return Vt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=window.location.hash,r=e.split("/")[2],o=localStorage.getItem("token"),t.innerHTML="",o){n.next=7;break}return t.innerHTML="<p>Silakan login untuk melihat detail.</p>",n.abrupt("return");case 7:return n.prev=7,n.next=10,Yt(o);case 10:if(!(i=n.sent).error&&i.data){n.next=14;break}return t.innerHTML="<p>Gagal memuat data.</p>",n.abrupt("return");case 14:if(u=i.data.find((function(t){return String(t.id)===r}))){n.next=18;break}return t.innerHTML="<p>Story tidak ditemukan.</p>",n.abrupt("return");case 18:a=Nt(u),t.appendChild(a),n.next=26;break;case 22:n.prev=22,n.t0=n.catch(7),console.error(n.t0),t.innerHTML="<p>Terjadi kesalahan saat memuat data.</p>";case 26:case"end":return n.stop()}}),n,null,[[7,22]])})),function(){var t=this,e=arguments;return new Promise((function(r,o){var i=n.apply(t,e);function u(t){en(i,r,o,u,a,"next",t)}function a(t){en(i,r,o,u,a,"throw",t)}u(void 0)}))})();var n}};const on=rn;function un(t){return un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},un(t)}function an(){var t=yn(),n=t.m(an),e=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function r(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===e||"GeneratorFunction"===(n.displayName||n.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var n,e;return function(r){n||(n={stop:function(){return e(r.a,2)},catch:function(){return r.v},abrupt:function(t,n){return e(r.a,o[t],n)},delegateYield:function(t,o,i){return n.resultName=o,e(r.d,cn(t),i)},finish:function(t){return e(r.f,t)}},e=function(t,e,o){r.p=n.prev,r.n=n.next;try{return t(e,o)}finally{n.next=r.n}}),n.resultName&&(n[n.resultName]=r.v,n.resultName=void 0),n.sent=r.v,n.next=r.n;try{return t.call(this,n)}finally{r.p=n.prev,r.n=n.next}}}return(an=function(){return{wrap:function(n,e,r,o){return t.w(i(n),e,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,n){return new dn(t,n)},AsyncIterator:pn,async:function(t,n,e,o,u){return(r(n)?ln:sn)(i(t),n,e,o,u)},keys:fn,values:cn}})()}function cn(t){if(null!=t){var n=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}throw new TypeError(un(t)+" is not iterable")}function fn(t){var n=Object(t),e=[];for(var r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function sn(t,n,e,r,o){var i=ln(t,n,e,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function ln(t,n,e,r,o){return new pn(yn().w(t,n,e,r),o||Promise)}function pn(t,n){function e(r,o,i,u){try{var a=t[r](o),c=a.value;return c instanceof dn?n.resolve(c.v).then((function(t){e("next",t,i,u)}),(function(t){e("throw",t,i,u)})):n.resolve(c).then((function(t){a.value=t,i(a)}),(function(t){return e("throw",t,i,u)}))}catch(t){u(t)}}var r;this.next||(vn(pn.prototype),vn(pn.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),vn(this,"_invoke",(function(t,o,i){function u(){return new n((function(n,r){e(t,i,n,r)}))}return r=r?r.then(u,u):u()}),!0)}function yn(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var c=r&&r.prototype instanceof a?r:a,f=Object.create(c.prototype);return vn(f,"_invoke",function(e,r,o){var i,a,c,f=0,s=o||[],l=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(n,e){return i=n,a=0,c=t,p.n=e,u}};function y(e,r){for(a=e,c=r,n=0;!l&&f&&!o&&n<s.length;n++){var o,i=s[n],y=p.p,v=i[2];e>3?(o=v===r)&&(c=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=t):i[0]<=y&&((o=e<2&&y<i[1])?(a=0,p.v=r,p.n=i[1]):y<v&&(o=e<3||i[0]>r||r>v)&&(i[4]=e,i[5]=r,p.n=v,a=0))}if(o||e>1)return u;throw l=!0,r}return function(o,s,v){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&y(s,v),a=s,c=v;(n=a<2?t:c)||!l;){i||(a?a<3?(a>1&&(p.n=-1),y(a,c)):p.n=c:p.v=c);try{if(f=2,i){if(a||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,a<2&&(a=0)}else 1===a&&(n=i.return)&&n.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((n=(l=p.n<0)?c:e.call(r,p))!==u)break}catch(n){i=t,a=1,c=n}finally{f=1}}return{value:n,done:l}}}(e,o,i),!0),f}var u={};function a(){}function c(){}function f(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(vn(n={},r,(function(){return this})),n),l=f.prototype=a.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,vn(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=f,vn(l,"constructor",f),vn(f,"constructor",c),c.displayName="GeneratorFunction",vn(f,o,"GeneratorFunction"),vn(l),vn(l,o,"Generator"),vn(l,r,(function(){return this})),vn(l,"toString",(function(){return"[object Generator]"})),(yn=function(){return{w:i,m:p}})()}function vn(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}vn=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var i=function(n,e){vn(t,n,(function(t){return this._invoke(n,e,t)}))};i("next",0),i("throw",1),i("return",2)}},vn(t,n,e,r)}function dn(t,n){this.v=t,this.k=n}function hn(t,n,e,r,o,i,u){try{var a=t[i](u),c=a.value}catch(t){return void e(t)}a.done?n(c):Promise.resolve(c).then(r,o)}var mn,bn;const gn={"/login":h,"/register":E,"/home":W,"/upload":et,"/stories":mt,"/stories/:id":(mn=an().mark((function t(n){return an().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,on.init(n);case 2:case"end":return t.stop()}}),t)})),bn=function(){var t=this,n=arguments;return new Promise((function(e,r){var o=mn.apply(t,n);function i(t){hn(o,e,r,i,u,"next",t)}function u(t){hn(o,e,r,i,u,"throw",t)}i(void 0)}))},function(t){return bn.apply(this,arguments)}),"/offline":Gt};function wn(t){return wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wn(t)}function xn(){var t=Pn(),n=t.m(xn),e=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function r(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===e||"GeneratorFunction"===(n.displayName||n.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var n,e;return function(r){n||(n={stop:function(){return e(r.a,2)},catch:function(){return r.v},abrupt:function(t,n){return e(r.a,o[t],n)},delegateYield:function(t,o,i){return n.resultName=o,e(r.d,kn(t),i)},finish:function(t){return e(r.f,t)}},e=function(t,e,o){r.p=n.prev,r.n=n.next;try{return t(e,o)}finally{n.next=r.n}}),n.resultName&&(n[n.resultName]=r.v,n.resultName=void 0),n.sent=r.v,n.next=r.n;try{return t.call(this,n)}finally{r.p=n.prev,r.n=n.next}}}return(xn=function(){return{wrap:function(n,e,r,o){return t.w(i(n),e,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,n){return new En(t,n)},AsyncIterator:_n,async:function(t,n,e,o,u){return(r(n)?jn:On)(i(t),n,e,o,u)},keys:Sn,values:kn}})()}function kn(t){if(null!=t){var n=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}throw new TypeError(wn(t)+" is not iterable")}function Sn(t){var n=Object(t),e=[];for(var r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function On(t,n,e,r,o){var i=jn(t,n,e,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function jn(t,n,e,r,o){return new _n(Pn().w(t,n,e,r),o||Promise)}function _n(t,n){function e(r,o,i,u){try{var a=t[r](o),c=a.value;return c instanceof En?n.resolve(c.v).then((function(t){e("next",t,i,u)}),(function(t){e("throw",t,i,u)})):n.resolve(c).then((function(t){a.value=t,i(a)}),(function(t){return e("throw",t,i,u)}))}catch(t){u(t)}}var r;this.next||(Tn(_n.prototype),Tn(_n.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),Tn(this,"_invoke",(function(t,o,i){function u(){return new n((function(n,r){e(t,i,n,r)}))}return r=r?r.then(u,u):u()}),!0)}function Pn(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var c=r&&r.prototype instanceof a?r:a,f=Object.create(c.prototype);return Tn(f,"_invoke",function(e,r,o){var i,a,c,f=0,s=o||[],l=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(n,e){return i=n,a=0,c=t,p.n=e,u}};function y(e,r){for(a=e,c=r,n=0;!l&&f&&!o&&n<s.length;n++){var o,i=s[n],y=p.p,v=i[2];e>3?(o=v===r)&&(c=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=t):i[0]<=y&&((o=e<2&&y<i[1])?(a=0,p.v=r,p.n=i[1]):y<v&&(o=e<3||i[0]>r||r>v)&&(i[4]=e,i[5]=r,p.n=v,a=0))}if(o||e>1)return u;throw l=!0,r}return function(o,s,v){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&y(s,v),a=s,c=v;(n=a<2?t:c)||!l;){i||(a?a<3?(a>1&&(p.n=-1),y(a,c)):p.n=c:p.v=c);try{if(f=2,i){if(a||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,a<2&&(a=0)}else 1===a&&(n=i.return)&&n.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((n=(l=p.n<0)?c:e.call(r,p))!==u)break}catch(n){i=t,a=1,c=n}finally{f=1}}return{value:n,done:l}}}(e,o,i),!0),f}var u={};function a(){}function c(){}function f(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(Tn(n={},r,(function(){return this})),n),l=f.prototype=a.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,Tn(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=f,Tn(l,"constructor",f),Tn(f,"constructor",c),c.displayName="GeneratorFunction",Tn(f,o,"GeneratorFunction"),Tn(l),Tn(l,o,"Generator"),Tn(l,r,(function(){return this})),Tn(l,"toString",(function(){return"[object Generator]"})),(Pn=function(){return{w:i,m:p}})()}function Tn(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}Tn=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var i=function(n,e){Tn(t,n,(function(t){return this._invoke(n,e,t)}))};i("next",0),i("throw",1),i("return",2)}},Tn(t,n,e,r)}function En(t,n){this.v=t,this.k=n}function Gn(t,n,e,r,o,i,u){try{var a=t[i](u),c=a.value}catch(t){return void e(t)}a.done?n(c):Promise.resolve(c).then(r,o)}function Nn(t){return function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function u(t){Gn(i,r,o,u,a,"next",t)}function a(t){Gn(i,r,o,u,a,"throw",t)}u(void 0)}))}}const In=function(t,n){return Nn(xn().mark((function e(){var r,o,i,u,a,c;return xn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator.onLine){e.next=11;break}if(r=localStorage.getItem("email"),o=localStorage.getItem("password"),i=localStorage.getItem("token"),u=localStorage.getItem("name"),t!==r||n!==o||!i||!u){e.next=10;break}return console.log("[AuthModel] Login offline berhasil"),e.abrupt("return",{loginResult:{token:i,name:u}});case 10:throw new Error("Tidak dapat login saat offline. Silakan login saat online terlebih dahulu.");case 11:return e.next=13,fetch("https://servercapstone-production.up.railway.app/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:n})});case 13:return a=e.sent,e.next=16,a.json();case 16:if(c=e.sent,a.ok&&!c.error){e.next=19;break}throw new Error(c.message||"Login gagal.");case 19:return localStorage.setItem("token",c.loginResult.token),localStorage.setItem("name",c.loginResult.name),localStorage.setItem("email",t),localStorage.setItem("password",n),e.abrupt("return",c);case 24:case"end":return e.stop()}}),e)})))()},Fn=function(t,n,e){return Nn(xn().mark((function r(){var o,i;return xn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch("https://servercapstone-production.up.railway.app/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,email:n,password:e})});case 2:return o=r.sent,r.next=5,o.json();case 5:if(i=r.sent,o.ok&&!i.error){r.next=8;break}throw new Error(i.message||"Registrasi gagal.");case 8:return r.abrupt("return",i);case 9:case"end":return r.stop()}}),r)})))()},Ln=function(){localStorage.removeItem("token"),localStorage.removeItem("name"),localStorage.removeItem("email"),localStorage.removeItem("password")},An=function(){return localStorage.getItem("token")},Bn=function(){return!!localStorage.getItem("token")};function Dn(t){return Dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dn(t)}function Mn(){var t=Yn(),n=t.m(Mn),e=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function r(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===e||"GeneratorFunction"===(n.displayName||n.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var n,e;return function(r){n||(n={stop:function(){return e(r.a,2)},catch:function(){return r.v},abrupt:function(t,n){return e(r.a,o[t],n)},delegateYield:function(t,o,i){return n.resultName=o,e(r.d,Cn(t),i)},finish:function(t){return e(r.f,t)}},e=function(t,e,o){r.p=n.prev,r.n=n.next;try{return t(e,o)}finally{n.next=r.n}}),n.resultName&&(n[n.resultName]=r.v,n.resultName=void 0),n.sent=r.v,n.next=r.n;try{return t.call(this,n)}finally{r.p=n.prev,r.n=n.next}}}return(Mn=function(){return{wrap:function(n,e,r,o){return t.w(i(n),e,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,n){return new Kn(t,n)},AsyncIterator:Wn,async:function(t,n,e,o,u){return(r(n)?Rn:Un)(i(t),n,e,o,u)},keys:Hn,values:Cn}})()}function Cn(t){if(null!=t){var n=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}throw new TypeError(Dn(t)+" is not iterable")}function Hn(t){var n=Object(t),e=[];for(var r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function Un(t,n,e,r,o){var i=Rn(t,n,e,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function Rn(t,n,e,r,o){return new Wn(Yn().w(t,n,e,r),o||Promise)}function Wn(t,n){function e(r,o,i,u){try{var a=t[r](o),c=a.value;return c instanceof Kn?n.resolve(c.v).then((function(t){e("next",t,i,u)}),(function(t){e("throw",t,i,u)})):n.resolve(c).then((function(t){a.value=t,i(a)}),(function(t){return e("throw",t,i,u)}))}catch(t){u(t)}}var r;this.next||(qn(Wn.prototype),qn(Wn.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),qn(this,"_invoke",(function(t,o,i){function u(){return new n((function(n,r){e(t,i,n,r)}))}return r=r?r.then(u,u):u()}),!0)}function Yn(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var c=r&&r.prototype instanceof a?r:a,f=Object.create(c.prototype);return qn(f,"_invoke",function(e,r,o){var i,a,c,f=0,s=o||[],l=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(n,e){return i=n,a=0,c=t,p.n=e,u}};function y(e,r){for(a=e,c=r,n=0;!l&&f&&!o&&n<s.length;n++){var o,i=s[n],y=p.p,v=i[2];e>3?(o=v===r)&&(c=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=t):i[0]<=y&&((o=e<2&&y<i[1])?(a=0,p.v=r,p.n=i[1]):y<v&&(o=e<3||i[0]>r||r>v)&&(i[4]=e,i[5]=r,p.n=v,a=0))}if(o||e>1)return u;throw l=!0,r}return function(o,s,v){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&y(s,v),a=s,c=v;(n=a<2?t:c)||!l;){i||(a?a<3?(a>1&&(p.n=-1),y(a,c)):p.n=c:p.v=c);try{if(f=2,i){if(a||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,a<2&&(a=0)}else 1===a&&(n=i.return)&&n.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((n=(l=p.n<0)?c:e.call(r,p))!==u)break}catch(n){i=t,a=1,c=n}finally{f=1}}return{value:n,done:l}}}(e,o,i),!0),f}var u={};function a(){}function c(){}function f(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(qn(n={},r,(function(){return this})),n),l=f.prototype=a.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,qn(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=f,qn(l,"constructor",f),qn(f,"constructor",c),c.displayName="GeneratorFunction",qn(f,o,"GeneratorFunction"),qn(l),qn(l,o,"Generator"),qn(l,r,(function(){return this})),qn(l,"toString",(function(){return"[object Generator]"})),(Yn=function(){return{w:i,m:p}})()}function qn(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}qn=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var i=function(n,e){qn(t,n,(function(t){return this._invoke(n,e,t)}))};i("next",0),i("throw",1),i("return",2)}},qn(t,n,e,r)}function Kn(t,n){this.v=t,this.k=n}function Vn(t,n,e,r,o,i,u){try{var a=t[i](u),c=a.value}catch(t){return void e(t)}a.done?n(c):Promise.resolve(c).then(r,o)}function zn(t){return function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function u(t){Vn(i,r,o,u,a,"next",t)}function a(t){Vn(i,r,o,u,a,"throw",t)}u(void 0)}))}}const Jn={init:function(t){var n=this;return zn(Mn().mark((function e(){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.render(t);case 2:h.bindLogin(n.handleLogin.bind(n)),!navigator.onLine&&Bn()&&(h.showAlert("Anda sedang offline, masuk menggunakan data tersimpan."),h.navigateTo("#/home"));case 4:case"end":return e.stop()}}),e)})))()},handleLogin:function(t){return zn(Mn().mark((function n(){var e,r;return Mn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t.email,r=t.password,n.prev=1,n.next=4,In(e,r);case 4:navigator.onLine||h.showAlert("Login offline berhasil. Anda menggunakan data yang tersimpan."),h.navigateTo("#/home"),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),h.showError(n.t0.message);case 11:case"end":return n.stop()}}),n,null,[[1,8]])})))()}};function $n(t){return $n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$n(t)}function Qn(){var t=re(),n=t.m(Qn),e=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function r(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===e||"GeneratorFunction"===(n.displayName||n.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var n,e;return function(r){n||(n={stop:function(){return e(r.a,2)},catch:function(){return r.v},abrupt:function(t,n){return e(r.a,o[t],n)},delegateYield:function(t,o,i){return n.resultName=o,e(r.d,Xn(t),i)},finish:function(t){return e(r.f,t)}},e=function(t,e,o){r.p=n.prev,r.n=n.next;try{return t(e,o)}finally{n.next=r.n}}),n.resultName&&(n[n.resultName]=r.v,n.resultName=void 0),n.sent=r.v,n.next=r.n;try{return t.call(this,n)}finally{r.p=n.prev,r.n=n.next}}}return(Qn=function(){return{wrap:function(n,e,r,o){return t.w(i(n),e,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,n){return new ie(t,n)},AsyncIterator:ee,async:function(t,n,e,o,u){return(r(n)?ne:te)(i(t),n,e,o,u)},keys:Zn,values:Xn}})()}function Xn(t){if(null!=t){var n=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}throw new TypeError($n(t)+" is not iterable")}function Zn(t){var n=Object(t),e=[];for(var r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function te(t,n,e,r,o){var i=ne(t,n,e,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function ne(t,n,e,r,o){return new ee(re().w(t,n,e,r),o||Promise)}function ee(t,n){function e(r,o,i,u){try{var a=t[r](o),c=a.value;return c instanceof ie?n.resolve(c.v).then((function(t){e("next",t,i,u)}),(function(t){e("throw",t,i,u)})):n.resolve(c).then((function(t){a.value=t,i(a)}),(function(t){return e("throw",t,i,u)}))}catch(t){u(t)}}var r;this.next||(oe(ee.prototype),oe(ee.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),oe(this,"_invoke",(function(t,o,i){function u(){return new n((function(n,r){e(t,i,n,r)}))}return r=r?r.then(u,u):u()}),!0)}function re(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var c=r&&r.prototype instanceof a?r:a,f=Object.create(c.prototype);return oe(f,"_invoke",function(e,r,o){var i,a,c,f=0,s=o||[],l=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(n,e){return i=n,a=0,c=t,p.n=e,u}};function y(e,r){for(a=e,c=r,n=0;!l&&f&&!o&&n<s.length;n++){var o,i=s[n],y=p.p,v=i[2];e>3?(o=v===r)&&(c=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=t):i[0]<=y&&((o=e<2&&y<i[1])?(a=0,p.v=r,p.n=i[1]):y<v&&(o=e<3||i[0]>r||r>v)&&(i[4]=e,i[5]=r,p.n=v,a=0))}if(o||e>1)return u;throw l=!0,r}return function(o,s,v){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&y(s,v),a=s,c=v;(n=a<2?t:c)||!l;){i||(a?a<3?(a>1&&(p.n=-1),y(a,c)):p.n=c:p.v=c);try{if(f=2,i){if(a||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,a<2&&(a=0)}else 1===a&&(n=i.return)&&n.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((n=(l=p.n<0)?c:e.call(r,p))!==u)break}catch(n){i=t,a=1,c=n}finally{f=1}}return{value:n,done:l}}}(e,o,i),!0),f}var u={};function a(){}function c(){}function f(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(oe(n={},r,(function(){return this})),n),l=f.prototype=a.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,oe(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=f,oe(l,"constructor",f),oe(f,"constructor",c),c.displayName="GeneratorFunction",oe(f,o,"GeneratorFunction"),oe(l),oe(l,o,"Generator"),oe(l,r,(function(){return this})),oe(l,"toString",(function(){return"[object Generator]"})),(re=function(){return{w:i,m:p}})()}function oe(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}oe=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var i=function(n,e){oe(t,n,(function(t){return this._invoke(n,e,t)}))};i("next",0),i("throw",1),i("return",2)}},oe(t,n,e,r)}function ie(t,n){this.v=t,this.k=n}function ue(t,n,e,r,o,i,u){try{var a=t[i](u),c=a.value}catch(t){return void e(t)}a.done?n(c):Promise.resolve(c).then(r,o)}function ae(t){return function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function u(t){ue(i,r,o,u,a,"next",t)}function a(t){ue(i,r,o,u,a,"throw",t)}u(void 0)}))}}const ce={init:function(t){var n=this;return ae(Qn().mark((function e(){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.render(t);case 2:E.bindRegister(n.handleRegister.bind(n));case 3:case"end":return e.stop()}}),e)})))()},handleRegister:function(t){return ae(Qn().mark((function n(){var e,r,o;return Qn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t.name,r=t.email,o=t.password,n.prev=1,n.next=4,Fn(e,r,o);case 4:E.showMessage("Registrasi berhasil, silakan login"),E.navigateTo("#/login"),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),E.showError("Gagal registrasi: "+n.t0.message);case 11:case"end":return n.stop()}}),n,null,[[1,8]])})))()}};function fe(t){return fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fe(t)}function se(){var t=he(),n=t.m(se),e=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function r(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===e||"GeneratorFunction"===(n.displayName||n.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var n,e;return function(r){n||(n={stop:function(){return e(r.a,2)},catch:function(){return r.v},abrupt:function(t,n){return e(r.a,o[t],n)},delegateYield:function(t,o,i){return n.resultName=o,e(r.d,le(t),i)},finish:function(t){return e(r.f,t)}},e=function(t,e,o){r.p=n.prev,r.n=n.next;try{return t(e,o)}finally{n.next=r.n}}),n.resultName&&(n[n.resultName]=r.v,n.resultName=void 0),n.sent=r.v,n.next=r.n;try{return t.call(this,n)}finally{r.p=n.prev,r.n=n.next}}}return(se=function(){return{wrap:function(n,e,r,o){return t.w(i(n),e,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,n){return new be(t,n)},AsyncIterator:de,async:function(t,n,e,o,u){return(r(n)?ve:ye)(i(t),n,e,o,u)},keys:pe,values:le}})()}function le(t){if(null!=t){var n=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}throw new TypeError(fe(t)+" is not iterable")}function pe(t){var n=Object(t),e=[];for(var r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function ye(t,n,e,r,o){var i=ve(t,n,e,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function ve(t,n,e,r,o){return new de(he().w(t,n,e,r),o||Promise)}function de(t,n){function e(r,o,i,u){try{var a=t[r](o),c=a.value;return c instanceof be?n.resolve(c.v).then((function(t){e("next",t,i,u)}),(function(t){e("throw",t,i,u)})):n.resolve(c).then((function(t){a.value=t,i(a)}),(function(t){return e("throw",t,i,u)}))}catch(t){u(t)}}var r;this.next||(me(de.prototype),me(de.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),me(this,"_invoke",(function(t,o,i){function u(){return new n((function(n,r){e(t,i,n,r)}))}return r=r?r.then(u,u):u()}),!0)}function he(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var c=r&&r.prototype instanceof a?r:a,f=Object.create(c.prototype);return me(f,"_invoke",function(e,r,o){var i,a,c,f=0,s=o||[],l=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(n,e){return i=n,a=0,c=t,p.n=e,u}};function y(e,r){for(a=e,c=r,n=0;!l&&f&&!o&&n<s.length;n++){var o,i=s[n],y=p.p,v=i[2];e>3?(o=v===r)&&(c=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=t):i[0]<=y&&((o=e<2&&y<i[1])?(a=0,p.v=r,p.n=i[1]):y<v&&(o=e<3||i[0]>r||r>v)&&(i[4]=e,i[5]=r,p.n=v,a=0))}if(o||e>1)return u;throw l=!0,r}return function(o,s,v){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&y(s,v),a=s,c=v;(n=a<2?t:c)||!l;){i||(a?a<3?(a>1&&(p.n=-1),y(a,c)):p.n=c:p.v=c);try{if(f=2,i){if(a||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,a<2&&(a=0)}else 1===a&&(n=i.return)&&n.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((n=(l=p.n<0)?c:e.call(r,p))!==u)break}catch(n){i=t,a=1,c=n}finally{f=1}}return{value:n,done:l}}}(e,o,i),!0),f}var u={};function a(){}function c(){}function f(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(me(n={},r,(function(){return this})),n),l=f.prototype=a.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,me(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=f,me(l,"constructor",f),me(f,"constructor",c),c.displayName="GeneratorFunction",me(f,o,"GeneratorFunction"),me(l),me(l,o,"Generator"),me(l,r,(function(){return this})),me(l,"toString",(function(){return"[object Generator]"})),(he=function(){return{w:i,m:p}})()}function me(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}me=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var i=function(n,e){me(t,n,(function(t){return this._invoke(n,e,t)}))};i("next",0),i("throw",1),i("return",2)}},me(t,n,e,r)}function be(t,n){this.v=t,this.k=n}function ge(t,n,e,r,o,i,u){try{var a=t[i](u),c=a.value}catch(t){return void e(t)}a.done?n(c):Promise.resolve(c).then(r,o)}function we(t){return function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function u(t){ge(i,r,o,u,a,"next",t)}function a(t){ge(i,r,o,u,a,"throw",t)}u(void 0)}))}}const xe={init:function(t){var n=this;return we(se().mark((function e(){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.render(t);case 2:!navigator.onLine&&Bn()&&W.showAlert("Anda sedang menggunakan aplikasi dalam mode offline."),W.bindLogout(n.handleLogout.bind(n));case 4:case"end":return e.stop()}}),e)})))()},handleLogout:function(){return we(se().mark((function t(){return se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Ln(),W.navigateTo("#/login");case 2:case"end":return t.stop()}}),t)})))()}};function ke(t){return ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ke(t)}function Se(){var t=Ee(),n=t.m(Se),e=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function r(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===e||"GeneratorFunction"===(n.displayName||n.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var n,e;return function(r){n||(n={stop:function(){return e(r.a,2)},catch:function(){return r.v},abrupt:function(t,n){return e(r.a,o[t],n)},delegateYield:function(t,o,i){return n.resultName=o,e(r.d,Oe(t),i)},finish:function(t){return e(r.f,t)}},e=function(t,e,o){r.p=n.prev,r.n=n.next;try{return t(e,o)}finally{n.next=r.n}}),n.resultName&&(n[n.resultName]=r.v,n.resultName=void 0),n.sent=r.v,n.next=r.n;try{return t.call(this,n)}finally{r.p=n.prev,r.n=n.next}}}return(Se=function(){return{wrap:function(n,e,r,o){return t.w(i(n),e,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,n){return new Ne(t,n)},AsyncIterator:Te,async:function(t,n,e,o,u){return(r(n)?Pe:_e)(i(t),n,e,o,u)},keys:je,values:Oe}})()}function Oe(t){if(null!=t){var n=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}throw new TypeError(ke(t)+" is not iterable")}function je(t){var n=Object(t),e=[];for(var r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function _e(t,n,e,r,o){var i=Pe(t,n,e,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function Pe(t,n,e,r,o){return new Te(Ee().w(t,n,e,r),o||Promise)}function Te(t,n){function e(r,o,i,u){try{var a=t[r](o),c=a.value;return c instanceof Ne?n.resolve(c.v).then((function(t){e("next",t,i,u)}),(function(t){e("throw",t,i,u)})):n.resolve(c).then((function(t){a.value=t,i(a)}),(function(t){return e("throw",t,i,u)}))}catch(t){u(t)}}var r;this.next||(Ge(Te.prototype),Ge(Te.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),Ge(this,"_invoke",(function(t,o,i){function u(){return new n((function(n,r){e(t,i,n,r)}))}return r=r?r.then(u,u):u()}),!0)}function Ee(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var c=r&&r.prototype instanceof a?r:a,f=Object.create(c.prototype);return Ge(f,"_invoke",function(e,r,o){var i,a,c,f=0,s=o||[],l=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(n,e){return i=n,a=0,c=t,p.n=e,u}};function y(e,r){for(a=e,c=r,n=0;!l&&f&&!o&&n<s.length;n++){var o,i=s[n],y=p.p,v=i[2];e>3?(o=v===r)&&(c=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=t):i[0]<=y&&((o=e<2&&y<i[1])?(a=0,p.v=r,p.n=i[1]):y<v&&(o=e<3||i[0]>r||r>v)&&(i[4]=e,i[5]=r,p.n=v,a=0))}if(o||e>1)return u;throw l=!0,r}return function(o,s,v){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&y(s,v),a=s,c=v;(n=a<2?t:c)||!l;){i||(a?a<3?(a>1&&(p.n=-1),y(a,c)):p.n=c:p.v=c);try{if(f=2,i){if(a||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,a<2&&(a=0)}else 1===a&&(n=i.return)&&n.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((n=(l=p.n<0)?c:e.call(r,p))!==u)break}catch(n){i=t,a=1,c=n}finally{f=1}}return{value:n,done:l}}}(e,o,i),!0),f}var u={};function a(){}function c(){}function f(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(Ge(n={},r,(function(){return this})),n),l=f.prototype=a.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,Ge(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=f,Ge(l,"constructor",f),Ge(f,"constructor",c),c.displayName="GeneratorFunction",Ge(f,o,"GeneratorFunction"),Ge(l),Ge(l,o,"Generator"),Ge(l,r,(function(){return this})),Ge(l,"toString",(function(){return"[object Generator]"})),(Ee=function(){return{w:i,m:p}})()}function Ge(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}Ge=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var i=function(n,e){Ge(t,n,(function(t){return this._invoke(n,e,t)}))};i("next",0),i("throw",1),i("return",2)}},Ge(t,n,e,r)}function Ne(t,n){this.v=t,this.k=n}function Ie(t,n,e,r,o,i,u){try{var a=t[i](u),c=a.value}catch(t){return void e(t)}a.done?n(c):Promise.resolve(c).then(r,o)}function Fe(t){return function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function u(t){Ie(i,r,o,u,a,"next",t)}function a(t){Ie(i,r,o,u,a,"throw",t)}u(void 0)}))}}const Le={init:function(t){return Fe(Se().mark((function n(){var e,r,o;return Se().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,et.render(t);case 2:if(An()){n.next=7;break}return et.showAlert("Silakan login terlebih dahulu"),et.navigateTo("#/"),n.abrupt("return");case 7:e=null,r=null,o=function(){r&&(r.getTracks().forEach((function(t){return t.stop()})),r=null,et.stopCameraStream())},et.handleHashChangeOnLeave(o),et.bindBackHome((function(){et.navigateTo("#/home")})),et.bindStartCamera(Fe(Se().mark((function t(){return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});case 3:r=t.sent,et.startCameraStream(r),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),et.showAlert("Tidak dapat mengakses kamera: "+t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))),et.bindStopCamera((function(){o()})),et.bindTakePhoto(Fe(Se().mark((function t(){var n;return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,et.takePhotoFromVideo();case 2:(n=t.sent)?(et.showImagePreview(e=n),o()):et.showAlert("Gagal mengambil foto.");case 4:case"end":return t.stop()}}),t)})))),et.bindFileInputChange((function(t){t&&(e=t,et.showImagePreview(t))})),et.bindFormSubmit(function(){var t=Fe(Se().mark((function t(n){var r,i,u,a;return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),et.setFormDisabled(!0),r=et.getSelectedPredictionType(),i=An(),e){t.next=8;break}return et.showAlert("Harap pilih gambar atau ambil foto."),et.setFormDisabled(!1),t.abrupt("return");case 8:if(i){t.next=13;break}return et.showAlert("Token tidak ditemukan, silakan login ulang."),et.navigateTo("#/"),et.setFormDisabled(!1),t.abrupt("return");case 13:return(u=new FormData).append("photo",e),u.append("plantType",r),t.prev=16,t.next=19,qt(u,i);case 19:(a=t.sent).error?et.showAlert(a.message||"Upload gagal."):(et.showAlert("Cerita berhasil diupload!"),et.navigateTo("#/stories")),t.next=27;break;case 23:t.prev=23,t.t0=t.catch(16),et.showAlert("Terjadi kesalahan saat upload."),console.error(t.t0);case 27:return t.prev=27,et.setFormDisabled(!1),o(),t.finish(27);case 31:case"end":return t.stop()}}),t,null,[[16,23,27,31]])})));return function(n){return t.apply(this,arguments)}}());case 17:case"end":return n.stop()}}),n)})))()}};function Ae(t){return Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ae(t)}function Be(){var t=Re(),n=t.m(Be),e=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function r(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===e||"GeneratorFunction"===(n.displayName||n.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var n,e;return function(r){n||(n={stop:function(){return e(r.a,2)},catch:function(){return r.v},abrupt:function(t,n){return e(r.a,o[t],n)},delegateYield:function(t,o,i){return n.resultName=o,e(r.d,De(t),i)},finish:function(t){return e(r.f,t)}},e=function(t,e,o){r.p=n.prev,r.n=n.next;try{return t(e,o)}finally{n.next=r.n}}),n.resultName&&(n[n.resultName]=r.v,n.resultName=void 0),n.sent=r.v,n.next=r.n;try{return t.call(this,n)}finally{r.p=n.prev,r.n=n.next}}}return(Be=function(){return{wrap:function(n,e,r,o){return t.w(i(n),e,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,n){return new Ye(t,n)},AsyncIterator:Ue,async:function(t,n,e,o,u){return(r(n)?He:Ce)(i(t),n,e,o,u)},keys:Me,values:De}})()}function De(t){if(null!=t){var n=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}throw new TypeError(Ae(t)+" is not iterable")}function Me(t){var n=Object(t),e=[];for(var r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function Ce(t,n,e,r,o){var i=He(t,n,e,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function He(t,n,e,r,o){return new Ue(Re().w(t,n,e,r),o||Promise)}function Ue(t,n){function e(r,o,i,u){try{var a=t[r](o),c=a.value;return c instanceof Ye?n.resolve(c.v).then((function(t){e("next",t,i,u)}),(function(t){e("throw",t,i,u)})):n.resolve(c).then((function(t){a.value=t,i(a)}),(function(t){return e("throw",t,i,u)}))}catch(t){u(t)}}var r;this.next||(We(Ue.prototype),We(Ue.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),We(this,"_invoke",(function(t,o,i){function u(){return new n((function(n,r){e(t,i,n,r)}))}return r=r?r.then(u,u):u()}),!0)}function Re(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var c=r&&r.prototype instanceof a?r:a,f=Object.create(c.prototype);return We(f,"_invoke",function(e,r,o){var i,a,c,f=0,s=o||[],l=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(n,e){return i=n,a=0,c=t,p.n=e,u}};function y(e,r){for(a=e,c=r,n=0;!l&&f&&!o&&n<s.length;n++){var o,i=s[n],y=p.p,v=i[2];e>3?(o=v===r)&&(c=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=t):i[0]<=y&&((o=e<2&&y<i[1])?(a=0,p.v=r,p.n=i[1]):y<v&&(o=e<3||i[0]>r||r>v)&&(i[4]=e,i[5]=r,p.n=v,a=0))}if(o||e>1)return u;throw l=!0,r}return function(o,s,v){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&y(s,v),a=s,c=v;(n=a<2?t:c)||!l;){i||(a?a<3?(a>1&&(p.n=-1),y(a,c)):p.n=c:p.v=c);try{if(f=2,i){if(a||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,a<2&&(a=0)}else 1===a&&(n=i.return)&&n.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((n=(l=p.n<0)?c:e.call(r,p))!==u)break}catch(n){i=t,a=1,c=n}finally{f=1}}return{value:n,done:l}}}(e,o,i),!0),f}var u={};function a(){}function c(){}function f(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(We(n={},r,(function(){return this})),n),l=f.prototype=a.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,We(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=f,We(l,"constructor",f),We(f,"constructor",c),c.displayName="GeneratorFunction",We(f,o,"GeneratorFunction"),We(l),We(l,o,"Generator"),We(l,r,(function(){return this})),We(l,"toString",(function(){return"[object Generator]"})),(Re=function(){return{w:i,m:p}})()}function We(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}We=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var i=function(n,e){We(t,n,(function(t){return this._invoke(n,e,t)}))};i("next",0),i("throw",1),i("return",2)}},We(t,n,e,r)}function Ye(t,n){this.v=t,this.k=n}function qe(t,n,e,r,o,i,u){try{var a=t[i](u),c=a.value}catch(t){return void e(t)}a.done?n(c):Promise.resolve(c).then(r,o)}var Ke={init:function(t){return function(t){return function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function u(t){qe(i,r,o,u,a,"next",t)}function a(t){qe(i,r,o,u,a,"throw",t)}u(void 0)}))}}(Be().mark((function n(){var e,r;return Be().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,mt.render(t);case 2:if(e=localStorage.getItem("token")){n.next=7;break}return mt.showError("Please log in first."),mt.navigateTo("#/login"),n.abrupt("return");case 7:return n.prev=7,n.next=10,Yt(e);case 10:r=n.sent,console.log("DATA:",r.data),r.error?mt.showError(r.message||"Failed to load stories."):mt.showStories(r.data),n.next=19;break;case 15:n.prev=15,n.t0=n.catch(7),console.error("Failed to load stories:",n.t0),mt.showError("Server error. Please try again later.");case 19:return n.next=21,mt.afterRender();case 21:case"end":return n.stop()}}),n,null,[[7,15]])})))()}};const Ve=Ke;var ze=e(266);function Je(t){return Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Je(t)}function $e(){var t=er(),n=t.m($e),e=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function r(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===e||"GeneratorFunction"===(n.displayName||n.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var n,e;return function(r){n||(n={stop:function(){return e(r.a,2)},catch:function(){return r.v},abrupt:function(t,n){return e(r.a,o[t],n)},delegateYield:function(t,o,i){return n.resultName=o,e(r.d,Qe(t),i)},finish:function(t){return e(r.f,t)}},e=function(t,e,o){r.p=n.prev,r.n=n.next;try{return t(e,o)}finally{n.next=r.n}}),n.resultName&&(n[n.resultName]=r.v,n.resultName=void 0),n.sent=r.v,n.next=r.n;try{return t.call(this,n)}finally{r.p=n.prev,r.n=n.next}}}return($e=function(){return{wrap:function(n,e,r,o){return t.w(i(n),e,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,n){return new or(t,n)},AsyncIterator:nr,async:function(t,n,e,o,u){return(r(n)?tr:Ze)(i(t),n,e,o,u)},keys:Xe,values:Qe}})()}function Qe(t){if(null!=t){var n=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}throw new TypeError(Je(t)+" is not iterable")}function Xe(t){var n=Object(t),e=[];for(var r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function Ze(t,n,e,r,o){var i=tr(t,n,e,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function tr(t,n,e,r,o){return new nr(er().w(t,n,e,r),o||Promise)}function nr(t,n){function e(r,o,i,u){try{var a=t[r](o),c=a.value;return c instanceof or?n.resolve(c.v).then((function(t){e("next",t,i,u)}),(function(t){e("throw",t,i,u)})):n.resolve(c).then((function(t){a.value=t,i(a)}),(function(t){return e("throw",t,i,u)}))}catch(t){u(t)}}var r;this.next||(rr(nr.prototype),rr(nr.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),rr(this,"_invoke",(function(t,o,i){function u(){return new n((function(n,r){e(t,i,n,r)}))}return r=r?r.then(u,u):u()}),!0)}function er(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var c=r&&r.prototype instanceof a?r:a,f=Object.create(c.prototype);return rr(f,"_invoke",function(e,r,o){var i,a,c,f=0,s=o||[],l=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(n,e){return i=n,a=0,c=t,p.n=e,u}};function y(e,r){for(a=e,c=r,n=0;!l&&f&&!o&&n<s.length;n++){var o,i=s[n],y=p.p,v=i[2];e>3?(o=v===r)&&(c=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=t):i[0]<=y&&((o=e<2&&y<i[1])?(a=0,p.v=r,p.n=i[1]):y<v&&(o=e<3||i[0]>r||r>v)&&(i[4]=e,i[5]=r,p.n=v,a=0))}if(o||e>1)return u;throw l=!0,r}return function(o,s,v){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&y(s,v),a=s,c=v;(n=a<2?t:c)||!l;){i||(a?a<3?(a>1&&(p.n=-1),y(a,c)):p.n=c:p.v=c);try{if(f=2,i){if(a||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,a<2&&(a=0)}else 1===a&&(n=i.return)&&n.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((n=(l=p.n<0)?c:e.call(r,p))!==u)break}catch(n){i=t,a=1,c=n}finally{f=1}}return{value:n,done:l}}}(e,o,i),!0),f}var u={};function a(){}function c(){}function f(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(rr(n={},r,(function(){return this})),n),l=f.prototype=a.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,rr(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=f,rr(l,"constructor",f),rr(f,"constructor",c),c.displayName="GeneratorFunction",rr(f,o,"GeneratorFunction"),rr(l),rr(l,o,"Generator"),rr(l,r,(function(){return this})),rr(l,"toString",(function(){return"[object Generator]"})),(er=function(){return{w:i,m:p}})()}function rr(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}rr=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var i=function(n,e){rr(t,n,(function(t){return this._invoke(n,e,t)}))};i("next",0),i("throw",1),i("return",2)}},rr(t,n,e,r)}function or(t,n){this.v=t,this.k=n}function ir(t,n,e,r,o,i,u){try{var a=t[i](u),c=a.value}catch(t){return void e(t)}a.done?n(c):Promise.resolve(c).then(r,o)}var ur={init:function(t){return function(t){return function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function u(t){ir(i,r,o,u,a,"next",t)}function a(t){ir(i,r,o,u,a,"throw",t)}u(void 0)}))}}($e().mark((function n(){var e;return $e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ze.default.getAllStories();case 2:e=n.sent,Gt.render(t,e);case 4:case"end":return n.stop()}}),n)})))()}};function ar(t){return ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ar(t)}function cr(){var t=vr(),n=t.m(cr),e=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function r(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===e||"GeneratorFunction"===(n.displayName||n.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var n,e;return function(r){n||(n={stop:function(){return e(r.a,2)},catch:function(){return r.v},abrupt:function(t,n){return e(r.a,o[t],n)},delegateYield:function(t,o,i){return n.resultName=o,e(r.d,fr(t),i)},finish:function(t){return e(r.f,t)}},e=function(t,e,o){r.p=n.prev,r.n=n.next;try{return t(e,o)}finally{n.next=r.n}}),n.resultName&&(n[n.resultName]=r.v,n.resultName=void 0),n.sent=r.v,n.next=r.n;try{return t.call(this,n)}finally{r.p=n.prev,r.n=n.next}}}return(cr=function(){return{wrap:function(n,e,r,o){return t.w(i(n),e,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,n){return new hr(t,n)},AsyncIterator:yr,async:function(t,n,e,o,u){return(r(n)?pr:lr)(i(t),n,e,o,u)},keys:sr,values:fr}})()}function fr(t){if(null!=t){var n=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}throw new TypeError(ar(t)+" is not iterable")}function sr(t){var n=Object(t),e=[];for(var r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function lr(t,n,e,r,o){var i=pr(t,n,e,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function pr(t,n,e,r,o){return new yr(vr().w(t,n,e,r),o||Promise)}function yr(t,n){function e(r,o,i,u){try{var a=t[r](o),c=a.value;return c instanceof hr?n.resolve(c.v).then((function(t){e("next",t,i,u)}),(function(t){e("throw",t,i,u)})):n.resolve(c).then((function(t){a.value=t,i(a)}),(function(t){return e("throw",t,i,u)}))}catch(t){u(t)}}var r;this.next||(dr(yr.prototype),dr(yr.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),dr(this,"_invoke",(function(t,o,i){function u(){return new n((function(n,r){e(t,i,n,r)}))}return r=r?r.then(u,u):u()}),!0)}function vr(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var c=r&&r.prototype instanceof a?r:a,f=Object.create(c.prototype);return dr(f,"_invoke",function(e,r,o){var i,a,c,f=0,s=o||[],l=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(n,e){return i=n,a=0,c=t,p.n=e,u}};function y(e,r){for(a=e,c=r,n=0;!l&&f&&!o&&n<s.length;n++){var o,i=s[n],y=p.p,v=i[2];e>3?(o=v===r)&&(c=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=t):i[0]<=y&&((o=e<2&&y<i[1])?(a=0,p.v=r,p.n=i[1]):y<v&&(o=e<3||i[0]>r||r>v)&&(i[4]=e,i[5]=r,p.n=v,a=0))}if(o||e>1)return u;throw l=!0,r}return function(o,s,v){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&y(s,v),a=s,c=v;(n=a<2?t:c)||!l;){i||(a?a<3?(a>1&&(p.n=-1),y(a,c)):p.n=c:p.v=c);try{if(f=2,i){if(a||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,a<2&&(a=0)}else 1===a&&(n=i.return)&&n.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((n=(l=p.n<0)?c:e.call(r,p))!==u)break}catch(n){i=t,a=1,c=n}finally{f=1}}return{value:n,done:l}}}(e,o,i),!0),f}var u={};function a(){}function c(){}function f(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(dr(n={},r,(function(){return this})),n),l=f.prototype=a.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,dr(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=f,dr(l,"constructor",f),dr(f,"constructor",c),c.displayName="GeneratorFunction",dr(f,o,"GeneratorFunction"),dr(l),dr(l,o,"Generator"),dr(l,r,(function(){return this})),dr(l,"toString",(function(){return"[object Generator]"})),(vr=function(){return{w:i,m:p}})()}function dr(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}dr=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var i=function(n,e){dr(t,n,(function(t){return this._invoke(n,e,t)}))};i("next",0),i("throw",1),i("return",2)}},dr(t,n,e,r)}function hr(t,n){this.v=t,this.k=n}function mr(t,n,e,r,o,i,u){try{var a=t[i](u),c=a.value}catch(t){return void e(t)}a.done?n(c):Promise.resolve(c).then(r,o)}function br(t){return function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function u(t){mr(i,r,o,u,a,"next",t)}function a(t){mr(i,r,o,u,a,"throw",t)}u(void 0)}))}}var gr={"/login":Jn,"/register":ce,"/home":xe,"/upload":Le,"/stories":Ve,"/stories/:id":on,"/offline":ur};const wr=function(){return br(cr().mark((function t(){var n,e,o,i,u,a;return cr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.parseActiveUrlWithCombiner(),(e=Object.keys(gn).find((function(t){if(t.includes(":")){var e=t.split("/:")[0];return n.startsWith(e)}return t===n})))||(console.warn("Route untuk '".concat(n,"' tidak ditemukan. Mengarahkan ke /login")),e="/login"),o=gn[e],i=gr[e],u=document.querySelector("#main-content")){t.next=9;break}return console.error("Elemen #main-content tidak ditemukan."),t.abrupt("return");case 9:if(!Bn()||"/login"!==e&&"/"!==e){t.next=12;break}return window.location.hash="#/home",t.abrupt("return");case 12:if(t.prev=12,!document.startViewTransition){t.next=18;break}return t.next=16,document.startViewTransition(br(cr().mark((function t(){var n;return cr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u.innerHTML="",t.next=3,null==o||null===(n=o.render)||void 0===n?void 0:n.call(o,u);case 3:case"end":return t.stop()}}),t)})))).finished;case 16:t.next=21;break;case 18:return u.innerHTML="",t.next=21,null==o||null===(a=o.render)||void 0===a?void 0:a.call(o,u);case 21:if(null==i||!i.init){t.next=24;break}return t.next=24,i.init(u);case 24:t.next=30;break;case 26:t.prev=26,t.t0=t.catch(12),console.error("Terjadi kesalahan saat merender halaman:",t.t0),u.innerHTML='<p style="color:red;">Terjadi kesalahan saat memuat halaman.</p>';case 30:case"end":return t.stop()}}),t,null,[[12,26]])})))()};var xr=null;function kr(t){return kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kr(t)}function Sr(){var t=Er(),n=t.m(Sr),e=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function r(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===e||"GeneratorFunction"===(n.displayName||n.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var n,e;return function(r){n||(n={stop:function(){return e(r.a,2)},catch:function(){return r.v},abrupt:function(t,n){return e(r.a,o[t],n)},delegateYield:function(t,o,i){return n.resultName=o,e(r.d,Or(t),i)},finish:function(t){return e(r.f,t)}},e=function(t,e,o){r.p=n.prev,r.n=n.next;try{return t(e,o)}finally{n.next=r.n}}),n.resultName&&(n[n.resultName]=r.v,n.resultName=void 0),n.sent=r.v,n.next=r.n;try{return t.call(this,n)}finally{r.p=n.prev,r.n=n.next}}}return(Sr=function(){return{wrap:function(n,e,r,o){return t.w(i(n),e,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,n){return new Nr(t,n)},AsyncIterator:Tr,async:function(t,n,e,o,u){return(r(n)?Pr:_r)(i(t),n,e,o,u)},keys:jr,values:Or}})()}function Or(t){if(null!=t){var n=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}throw new TypeError(kr(t)+" is not iterable")}function jr(t){var n=Object(t),e=[];for(var r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function _r(t,n,e,r,o){var i=Pr(t,n,e,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function Pr(t,n,e,r,o){return new Tr(Er().w(t,n,e,r),o||Promise)}function Tr(t,n){function e(r,o,i,u){try{var a=t[r](o),c=a.value;return c instanceof Nr?n.resolve(c.v).then((function(t){e("next",t,i,u)}),(function(t){e("throw",t,i,u)})):n.resolve(c).then((function(t){a.value=t,i(a)}),(function(t){return e("throw",t,i,u)}))}catch(t){u(t)}}var r;this.next||(Gr(Tr.prototype),Gr(Tr.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),Gr(this,"_invoke",(function(t,o,i){function u(){return new n((function(n,r){e(t,i,n,r)}))}return r=r?r.then(u,u):u()}),!0)}function Er(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var c=r&&r.prototype instanceof a?r:a,f=Object.create(c.prototype);return Gr(f,"_invoke",function(e,r,o){var i,a,c,f=0,s=o||[],l=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(n,e){return i=n,a=0,c=t,p.n=e,u}};function y(e,r){for(a=e,c=r,n=0;!l&&f&&!o&&n<s.length;n++){var o,i=s[n],y=p.p,v=i[2];e>3?(o=v===r)&&(c=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=t):i[0]<=y&&((o=e<2&&y<i[1])?(a=0,p.v=r,p.n=i[1]):y<v&&(o=e<3||i[0]>r||r>v)&&(i[4]=e,i[5]=r,p.n=v,a=0))}if(o||e>1)return u;throw l=!0,r}return function(o,s,v){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&y(s,v),a=s,c=v;(n=a<2?t:c)||!l;){i||(a?a<3?(a>1&&(p.n=-1),y(a,c)):p.n=c:p.v=c);try{if(f=2,i){if(a||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,a<2&&(a=0)}else 1===a&&(n=i.return)&&n.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((n=(l=p.n<0)?c:e.call(r,p))!==u)break}catch(n){i=t,a=1,c=n}finally{f=1}}return{value:n,done:l}}}(e,o,i),!0),f}var u={};function a(){}function c(){}function f(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(Gr(n={},r,(function(){return this})),n),l=f.prototype=a.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,Gr(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=f,Gr(l,"constructor",f),Gr(f,"constructor",c),c.displayName="GeneratorFunction",Gr(f,o,"GeneratorFunction"),Gr(l),Gr(l,o,"Generator"),Gr(l,r,(function(){return this})),Gr(l,"toString",(function(){return"[object Generator]"})),(Er=function(){return{w:i,m:p}})()}function Gr(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}Gr=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var i=function(n,e){Gr(t,n,(function(t){return this._invoke(n,e,t)}))};i("next",0),i("throw",1),i("return",2)}},Gr(t,n,e,r)}function Nr(t,n){this.v=t,this.k=n}function Ir(t,n,e,r,o,i,u){try{var a=t[i](u),c=a.value}catch(t){return void e(t)}a.done?n(c):Promise.resolve(c).then(r,o)}function Fr(t){return function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function u(t){Ir(i,r,o,u,a,"next",t)}function a(t){Ir(i,r,o,u,a,"throw",t)}u(void 0)}))}}var Lr=document.querySelector(".skip-link");Lr&&(Lr.setAttribute("aria-disabled","true"),Lr.style.pointerEvents="none",Lr.style.opacity="0.5",Lr.style.visibility="hidden");var Ar=function(){Lr&&("#/stories"===window.location.hash?Lr.style.display="inline-block":Lr.style.display="none")};function Br(){navigator.serviceWorker&&navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"UPDATE_HASH",hash:window.location.hash})}window.addEventListener("load",Fr(Sr().mark((function t(){return Sr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wr();case 2:Lr&&(Lr.removeAttribute("aria-disabled"),Lr.style.pointerEvents="auto",Lr.style.opacity="1",Lr.style.visibility="visible"),Ar();case 4:case"end":return t.stop()}}),t)})))),window.addEventListener("hashchange",(function(){wr(),Ar()})),Lr&&Lr.addEventListener("click",(function(t){if("true"!==Lr.getAttribute("aria-disabled")){t.preventDefault();var n=document.getElementById("story-container");if(n){n.setAttribute("tabindex","-1"),n.focus(),n.scrollIntoView({behavior:"smooth",block:"start"});var e=function(){n.removeAttribute("tabindex"),n.removeEventListener("blur",e)};n.addEventListener("blur",e)}}else t.preventDefault()})),"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/sw.js").then((function(t){console.log("Service Worker registered with scope:",t.scope)})).catch((function(t){console.error("Service Worker registration failed:",t)}))})),window.addEventListener("hashchange",Br),window.addEventListener("load",Br),window.showImageOverlay=function(t,n,e){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";!function(){if(!document.getElementById("image-overlay")){var t=document.createElement("div");t.id="image-overlay",Object.assign(t.style,{position:"fixed",top:"0",left:"0",width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,0.8)",display:"none",justifyContent:"center",alignItems:"center",flexDirection:"column",zIndex:"1000",cursor:"pointer",color:"#fff"}),t.setAttribute("role","dialog"),t.setAttribute("aria-modal","true"),t.setAttribute("tabindex","-1"),t.innerHTML='\n        <div id="overlay-background" aria-label="Tutup overlay" tabindex="0" style="position:absolute;top:0;left:0;width:100%;height:100%;"></div>\n        <img id="overlay-image" alt="Gambar Cerita" style="max-width: 90vw; max-height: 70vh; border-radius: 12px; z-index:1001;"/>\n        <div id="overlay-map" style="width: 50%; height: 300px; margin-top: 20px; border-radius: 12px; z-index:1001;"></div>\n    ',document.body.appendChild(t);var n=function(){t.style.display="none",t.setAttribute("aria-hidden","true"),t.setAttribute("inert",""),xr&&(xr.remove(),xr=null)};document.getElementById("overlay-background").addEventListener("click",n),document.addEventListener("keydown",(function(e){"Escape"===e.key&&"flex"===t.style.display&&n()}))}}();var i=document.getElementById("image-overlay"),u=document.getElementById("overlay-image"),a=document.getElementById("overlay-map");a.innerHTML="",u.src=t,u.alt="Gambar cerita oleh ".concat(r),i.style.display="flex",i.removeAttribute("aria-hidden"),i.removeAttribute("inert"),i.focus(),null!=n&&null!=e?setTimeout((function(){xr=L.map(a).setView([n,e],13),L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"&copy; OpenStreetMap contributors"}).addTo(xr),L.marker([n,e]).addTo(xr).bindPopup("<b>".concat(r,"</b><br>").concat(o)).openPopup()}),100):a.innerHTML='<p style="color:white; padding:10px;">Lokasi tidak tersedia.</p>'}})();